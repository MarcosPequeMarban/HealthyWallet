=== Inicio del archivo ===

===== MANIFEST =====


--- AndroidManifest.xml ---

<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <application
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.HealthyWallet"
        tools:targetApi="33"
        android:enableOnBackInvokedCallback="true">


        <activity
            android:name=".ui.MainActivity"
            android:exported="true"
            android:label="@string/app_name"
            android:theme="@style/Theme.AppCompat.DayNight.NoActionBar">

            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>

        </activity>

    </application>

</manifest>

===== JAVA =====


--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\adapters\AdaptadorCategorias.java ---

package com.example.healthywallet.adapters;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.example.healthywallet.R;
import com.example.healthywallet.database.entities.Categoria;

import java.util.List;

public class AdaptadorCategorias extends RecyclerView.Adapter<AdaptadorCategorias.ViewHolderCategoria> {

    private final Context context;
    private final List<Categoria> lista;

    public AdaptadorCategorias(Context context, List<Categoria> lista) {
        this.context = context;
        this.lista = lista;
    }

    @NonNull
    @Override
    public ViewHolderCategoria onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View vista = LayoutInflater.from(context).inflate(R.layout.item_categoria, parent, false);
        return new ViewHolderCategoria(vista);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolderCategoria holder, int position) {
        Categoria categoria = lista.get(position);

        holder.txtNombre.setText(categoria.getNombre());
        holder.txtDescripcion.setText(categoria.getDescripcion());
    }

    @Override
    public int getItemCount() {
        return lista.size();
    }

    static class ViewHolderCategoria extends RecyclerView.ViewHolder {

        TextView txtNombre, txtDescripcion;

        public ViewHolderCategoria(@NonNull View itemView) {
            super(itemView);

            txtNombre = itemView.findViewById(R.id.txtNombreCategoria);
            txtDescripcion = itemView.findViewById(R.id.txtDescripcionCategoria);
        }
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\adapters\AdaptadorFormacion.java ---

package com.example.healthywallet.adapters;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.example.healthywallet.R;
import com.example.healthywallet.database.entities.Formacion;

import java.util.List;

public class AdaptadorFormacion extends RecyclerView.Adapter<AdaptadorFormacion.ViewHolderFormacion> {

    private final Context context;
    private final List<Formacion> lista;

    public AdaptadorFormacion(Context context, List<Formacion> lista) {
        this.context = context;
        this.lista = lista;
    }

    @NonNull
    @Override
    public ViewHolderFormacion onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View vista = LayoutInflater.from(context).inflate(R.layout.item_formacion, parent, false);
        return new ViewHolderFormacion(vista);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolderFormacion holder, int position) {
        Formacion f = lista.get(position);

        holder.txtTitulo.setText(f.getTitulo());
        holder.txtNivel.setText(f.getNivel());
        holder.txtDescripcion.setText(f.getDescripcion());
    }

    @Override
    public int getItemCount() {
        return lista.size();
    }

    static class ViewHolderFormacion extends RecyclerView.ViewHolder {

        TextView txtTitulo, txtNivel, txtDescripcion;

        public ViewHolderFormacion(@NonNull View itemView) {
            super(itemView);

            txtTitulo = itemView.findViewById(R.id.txtTituloFormacion);
            txtNivel = itemView.findViewById(R.id.txtNivelFormacion);
            txtDescripcion = itemView.findViewById(R.id.txtDescripcionFormacion);
        }
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\adapters\AdaptadorMetas.java ---

package com.example.healthywallet.adapters;

import android.content.Context;
import android.graphics.Color;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ProgressBar;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.cardview.widget.CardView;
import androidx.recyclerview.widget.RecyclerView;

import com.example.healthywallet.R;
import com.example.healthywallet.database.entities.Meta;

import java.util.List;

public class AdaptadorMetas extends RecyclerView.Adapter<AdaptadorMetas.ViewHolderMeta> {

    private final Context context;
    private final List<Meta> lista;

    private OnMetaClickListener listenerNormal;
    private OnMetaCompletadaListener listenerCompletada;

    // ---------------------------------------------------------
    // LISTENER PARA ABRIR EL DETALLE
    // ---------------------------------------------------------
    public interface OnMetaClickListener {
        void onMetaClick(Meta meta);
    }

    public void setOnMetaClickListener(OnMetaClickListener l) {
        this.listenerNormal = l;
    }

    // ---------------------------------------------------------
    // LISTENER PARA META COMPLETADA (100%)
    // ---------------------------------------------------------
    public interface OnMetaCompletadaListener {
        void onMetaCompletada(Meta meta);
    }

    public void setOnMetaCompletadaListener(OnMetaCompletadaListener l) {
        this.listenerCompletada = l;
    }

    // ---------------------------------------------------------
    // CONSTRUCTOR
    // ---------------------------------------------------------
    public AdaptadorMetas(Context context, List<Meta> lista) {
        this.context = context;
        this.lista = lista;
    }

    @NonNull
    @Override
    public ViewHolderMeta onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View v = LayoutInflater.from(context).inflate(R.layout.item_meta, parent, false);
        return new ViewHolderMeta(v);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolderMeta holder, int position) {

        Meta meta = lista.get(position);

        // NOMBRE
        holder.txtNombre.setText(meta.getNombre());

        // FECHA OBJETIVO
        holder.txtFecha.setText("Fecha objetivo: " + meta.getFechaObjetivo());

        // CANTIDADES
        holder.txtCantidades.setText(
                String.format("%.2f â‚¬ / %.2f â‚¬", meta.getCantidadActual(), meta.getCantidadObjetivo())
        );

        // PORCENTAJE
        double porcentaje = (meta.getCantidadActual() / meta.getCantidadObjetivo()) * 100.0;
        if (porcentaje > 100) porcentaje = 100;

        holder.txtPorcentaje.setText(String.format("%.0f%%", porcentaje));
        holder.barra.setProgress((int) porcentaje);

        // ---------------------------------------------------------
        // COLORES SEGÃšN PROGRESO
        // ---------------------------------------------------------
        if (porcentaje >= 100) {
            holder.barra.setProgressTintList(context.getColorStateList(R.color.meta_verde));
            holder.card.setCardBackgroundColor(Color.parseColor("#D1FFD8")); // verde triunfo
        }
        else if (porcentaje >= 80) {
            holder.barra.setProgressTintList(context.getColorStateList(R.color.meta_verde));
            holder.card.setCardBackgroundColor(Color.parseColor("#E8F5E9"));
        }
        else if (porcentaje >= 40) {
            holder.barra.setProgressTintList(context.getColorStateList(R.color.meta_amarillo));
            holder.card.setCardBackgroundColor(Color.parseColor("#FFFDE7"));
        }
        else {
            holder.barra.setProgressTintList(context.getColorStateList(R.color.meta_rojo));
            holder.card.setCardBackgroundColor(Color.parseColor("#FFEBEE"));
        }

        // ---------------------------------------------------------
        // CLICK (NORMAL o META COMPLETADA)
        // ---------------------------------------------------------
        final double porcentajeFinal = porcentaje;
        holder.itemView.setOnClickListener(v -> {

            if (porcentajeFinal >= 100) {
                if (listenerCompletada != null)
                    listenerCompletada.onMetaCompletada(meta);
            } else {
                if (listenerNormal != null)
                    listenerNormal.onMetaClick(meta);
            }
        });
    }

    @Override
    public int getItemCount() {
        return lista.size();
    }

    // ---------------------------------------------------------
    // VIEW HOLDER
    // ---------------------------------------------------------
    static class ViewHolderMeta extends RecyclerView.ViewHolder {

        CardView card;
        TextView txtNombre, txtCantidades, txtPorcentaje, txtFecha;
        ProgressBar barra;

        public ViewHolderMeta(@NonNull View itemView) {
            super(itemView);

            card = itemView.findViewById(R.id.cardViewMeta);
            txtNombre = itemView.findViewById(R.id.txtNombreMeta);
            txtCantidades = itemView.findViewById(R.id.txtCantidadesMeta);
            txtPorcentaje = itemView.findViewById(R.id.txtPorcentajeMeta);
            txtFecha = itemView.findViewById(R.id.txtFechaMeta);
            barra = itemView.findViewById(R.id.barraProgresoMeta);
        }
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\adapters\AdaptadorMovimientos.java ---

package com.example.healthywallet.adapters;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.example.healthywallet.R;
import com.example.healthywallet.database.entities.Movimiento;

import java.util.List;

public class AdaptadorMovimientos extends RecyclerView.Adapter<AdaptadorMovimientos.ViewHolderMovimiento> {

    private final Context context;
    private final List<Movimiento> lista;

    public AdaptadorMovimientos(Context context, List<Movimiento> lista) {
        this.context = context;
        this.lista = lista;
    }

    @NonNull
    @Override
    public ViewHolderMovimiento onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View vista = LayoutInflater.from(context).inflate(R.layout.item_movimiento, parent, false);
        return new ViewHolderMovimiento(vista);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolderMovimiento holder, int position) {
        Movimiento mov = lista.get(position);

        holder.txtTipo.setText(mov.getTipo());
        holder.txtCategoria.setText(mov.getCategoria());
        holder.txtCantidad.setText(String.valueOf(mov.getCantidad()) + " â‚¬");
        holder.txtFecha.setText(mov.getFecha());
    }

    @Override
    public int getItemCount() {
        return lista.size();
    }

    static class ViewHolderMovimiento extends RecyclerView.ViewHolder {

        TextView txtTipo, txtCategoria, txtCantidad, txtFecha;

        public ViewHolderMovimiento(@NonNull View itemView) {
            super(itemView);

            txtTipo = itemView.findViewById(R.id.txtTipoMovimiento);
            txtCategoria = itemView.findViewById(R.id.txtCategoriaMovimiento);
            txtCantidad = itemView.findViewById(R.id.txtCantidadMovimiento);
            txtFecha = itemView.findViewById(R.id.txtFechaMovimiento);
        }
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\adapters\AdaptadorPresupuestos.java ---

package com.example.healthywallet.adapters;

import android.content.Context;
import android.graphics.Color;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.example.healthywallet.R;
import com.example.healthywallet.database.entities.Presupuesto;

import java.util.List;

public class AdaptadorPresupuestos extends RecyclerView.Adapter<AdaptadorPresupuestos.ViewHolderPresupuesto> {

    private final Context context;
    private final List<Presupuesto> lista;

    public AdaptadorPresupuestos(Context context, List<Presupuesto> lista) {
        this.context = context;
        this.lista = lista;
    }

    @NonNull
    @Override
    public ViewHolderPresupuesto onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View vista = LayoutInflater.from(context).inflate(R.layout.item_presupuesto, parent, false);
        return new ViewHolderPresupuesto(vista);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolderPresupuesto holder, int position) {
        Presupuesto p = lista.get(position);

        holder.txtCategoria.setText(p.getCategoria());
        holder.txtLimite.setText("LÃ­mite: " + p.getLimite() + " â‚¬");
        holder.txtGastoActual.setText("Gastado: " + p.getGastoActual() + " â‚¬");

        double limite = p.getLimite();
        double gasto = p.getGastoActual();

        // ðŸ”¥ COLOR DINÃMICO DEL ITEM SEGÃšN EL NIVEL DE GASTO
        if (gasto > limite) {
            // PASADO â†’ ROJO
            holder.itemView.setBackgroundColor(Color.parseColor("#FF8A80"));
        }
        else if (gasto >= limite * 0.80) {
            // CERCA DEL LÃMITE â†’ AMARILLO
            holder.itemView.setBackgroundColor(Color.parseColor("#FFF176"));
        }
        else {
            // NORMAL â†’ BLANCO
            holder.itemView.setBackgroundColor(Color.parseColor("#FFFFFF"));
        }
    }

    @Override
    public int getItemCount() {
        return lista.size();
    }

    static class ViewHolderPresupuesto extends RecyclerView.ViewHolder {

        TextView txtCategoria, txtLimite, txtGastoActual;

        public ViewHolderPresupuesto(@NonNull View itemView) {
            super(itemView);

            txtCategoria = itemView.findViewById(R.id.txtCategoriaPresupuesto);
            txtLimite = itemView.findViewById(R.id.txtLimitePresupuesto);
            txtGastoActual = itemView.findViewById(R.id.txtGastoActualPresupuesto);
        }
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\controller\CategoriasControlador.java ---

package com.example.healthywallet.controller;

import android.content.Context;
import android.util.Log;

import com.example.healthywallet.database.GestorBaseDatos;
import com.example.healthywallet.database.DAO.CategoriaDao;
import com.example.healthywallet.database.entities.Categoria;

import java.util.List;

public class CategoriasControlador {

    private final CategoriaDao categoriaDao;

    public CategoriasControlador(Context context) {
        GestorBaseDatos db = GestorBaseDatos.obtenerInstancia(context);
        this.categoriaDao = db.categoriaDao();
    }

    public long insertarCategoria(Categoria categoria) {
        try {
            return categoriaDao.insertar(categoria);
        } catch (Exception e) {
            Log.e("CategoriaControlador", "Error insertando categorÃ­a", e);
            return -1;
        }
    }

    public List<Categoria> obtenerCategorias() {
        try {
            return categoriaDao.obtenerTodas();
        } catch (Exception e) {
            Log.e("CategoriaControlador", "Error obteniendo categorÃ­as", e);
            return null;
        }
    }

    public int eliminarCategoria(int id) {
        try {
            return categoriaDao.eliminarPorId(id);
        } catch (Exception e) {
            Log.e("CategoriaControlador", "Error eliminando categorÃ­a", e);
            return 0;
        }
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\controller\FormacionControlador.java ---

package com.example.healthywallet.controller;

import android.content.Context;

import com.example.healthywallet.database.GestorBaseDatos;
import com.example.healthywallet.database.DAO.FormacionDao;
import com.example.healthywallet.database.entities.Formacion;

import java.util.List;
import java.util.concurrent.ExecutorService;

public class FormacionControlador {

    // --------------------------
    //      CALLBACKS
    // --------------------------

    public interface CallbackListaFormacion {
        void onResult(List<Formacion> lista);
    }

    public interface CallbackInt {
        void onResult(int valor);
    }

    public interface FormacionCallback {
        void onResult(Formacion formacion);
    }

    // --------------------------
    //       CAMPOS
    // --------------------------

    private final FormacionDao dao;
    private final ExecutorService executor;

    public FormacionControlador(Context context) {
        GestorBaseDatos db = GestorBaseDatos.obtenerInstancia(context);
        dao = db.formacionDao();
        executor = GestorBaseDatos.databaseExecutor;
    }

    // --------------------------
    //     OPERACIONES CRUD
    // --------------------------

    public void insertar(Formacion formacion, CallbackInt callback) {
        executor.execute(() -> callback.onResult((int) dao.insertar(formacion)));
    }

    public void obtenerTodas(CallbackListaFormacion callback) {
        executor.execute(() -> callback.onResult(dao.obtenerTodas()));
    }

    public void eliminarPorId(int id, CallbackInt callback) {
        executor.execute(() -> callback.onResult(dao.eliminarPorId(id)));
    }

    public void eliminarTodo(Runnable callback) {
        executor.execute(() -> {
            dao.eliminarTodo();
            callback.run();
        });
    }

    // --------------------------
    //   REEMPLAZAR RECURSO
    // --------------------------

    public void reemplazarRecurso(int id, String nuevoTitulo, String tipo, FormacionCallback callback) {
        executor.execute(() -> {
            Formacion nuevo = new Formacion(
                    nuevoTitulo,
                    tipo,
                    false,
                    String.valueOf(System.currentTimeMillis())
            );

            nuevo.setId(id);
            dao.actualizar(nuevo);
            callback.onResult(nuevo);
        });
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\controller\FormacionRepositorio.java ---

package com.example.healthywallet.controller;

import java.util.Random;

public class FormacionRepositorio {

    private static final String[] LIBROS = {
            "El inversor inteligente â€“ Benjamin Graham",
            "Los secretos de la mente millonaria â€“ T. Harv Eker",
            "Padre Rico, Padre Pobre â€“ Robert Kiyosaki",
            "El pequeÃ±o libro que aÃºn vence al mercado â€“ Joel Greenblatt",
            "HÃ¡bitos AtÃ³micos â€“ James Clear",
            "Piense y hÃ¡gase rico â€“ Napoleon Hill",
            "La psicologÃ­a del dinero â€“ Morgan Housel",
            "El hombre mÃ¡s rico de Babilonia â€“ George S. Clason",
            "CÃ³mo ganar amigos e influir sobre las personas â€“ Dale Carnegie",
            "De cero a uno â€“ Peter Thiel"
    };

    private static final String[] VIDEOS = {
            "CÃ³mo funcionan los ETFs explicado fÃ¡cil",
            "La regla 50/30/20 para organizar tu dinero",
            "Principios bÃ¡sicos de inversiÃ³n para principiantes",
            "El interÃ©s compuesto explicado en 5 minutos",
            "CÃ³mo superar la ansiedad financiera",
            "7 hÃ¡bitos de personas econÃ³micamente exitosas",
            "QuÃ© es la libertad financiera y cÃ³mo alcanzarla",
            "CÃ³mo evitar compras impulsivas",
            "GuÃ­a de inversiÃ³n a largo plazo",
            "Ahorra mÃ¡s con estos trucos psicolÃ³gicos"
    };

    public static String libroAleatorio() {
        return LIBROS[new Random().nextInt(LIBROS.length)];
    }

    public static String videoAleatorio() {
        return VIDEOS[new Random().nextInt(VIDEOS.length)];
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\controller\MetaControlador.java ---

package com.example.healthywallet.controller;

import android.content.Context;

import com.example.healthywallet.database.GestorBaseDatos;
import com.example.healthywallet.database.DAO.MetaDao;
import com.example.healthywallet.database.entities.Meta;

import java.util.List;
import java.util.concurrent.ExecutorService;

public class MetaControlador {

    // === CALLBACKS ===
    public interface CallbackListaMeta {
        void onResult(List<Meta> lista);
    }

    public interface CallbackMeta {
        void onResult(Meta meta);
    }

    public interface CallbackLong {
        void onResult(long valor);
    }

    public interface CallbackInt {
        void onResult(int valor);
    }

    // === CAMPOS ===
    private final MetaDao dao;
    private final ExecutorService executor;

    // === CONSTRUCTOR ===
    public MetaControlador(Context context) {
        GestorBaseDatos db = GestorBaseDatos.obtenerInstancia(context);
        dao = db.metaDao();
        executor = GestorBaseDatos.databaseExecutor;
    }

    // === CRUD ===

    /** Insertar una meta y devolver el ID generado */
    public void insertar(Meta meta, CallbackLong callback) {
        executor.execute(() -> {
            long id = dao.insertar(meta);
            callback.onResult(id);
        });
    }

    /** Actualizar una meta */
    public void actualizar(Meta meta, CallbackInt callback) {
        executor.execute(() -> {
            int filas = dao.actualizar(meta);
            callback.onResult(filas);
        });
    }

    /** Obtener meta por ID */
    public void obtenerPorId(int id, CallbackMeta callback) {
        executor.execute(() -> {
            Meta meta = dao.obtenerPorId(id);
            callback.onResult(meta);
        });
    }

    /** Obtener todas las metas */
    public void obtenerTodas(CallbackListaMeta callback) {
        executor.execute(() -> {
            List<Meta> lista = dao.obtenerTodas();
            callback.onResult(lista);
        });
    }

    /** Actualizar solo la cantidad actual */
    public void actualizarCantidad(int id, double nuevaCantidad, CallbackInt callback) {
        executor.execute(() -> {
            int filas = dao.actualizarCantidad(nuevaCantidad, id);
            callback.onResult(filas);
        });
    }

    /** Eliminar una meta */
    public void eliminar(Meta meta, CallbackInt callback) {
        executor.execute(() -> {
            int filas = dao.eliminar(meta);
            callback.onResult(filas);
        });
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\controller\MovimientosControlador.java ---

package com.example.healthywallet.controller;

import android.content.Context;
import android.util.Log;

import com.example.healthywallet.database.GestorBaseDatos;
import com.example.healthywallet.database.DAO.MovimientoDao;
import com.example.healthywallet.database.entities.Movimiento;

import java.util.List;
import java.util.concurrent.ExecutorService;

public class MovimientosControlador {

    public interface CallbackMovimiento {
        void onResult(Movimiento mov);
    }

    public interface CallbackListaMovimiento {
        void onResult(List<Movimiento> lista);
    }

    public interface CallbackDouble {
        void onResult(double valor);
    }

    public interface CallbackInt {
        void onResult(int valor);
    }

    private final MovimientoDao dao;
    private final ExecutorService executor;

    public MovimientosControlador(Context context) {
        GestorBaseDatos db = GestorBaseDatos.obtenerInstancia(context);
        dao = db.movimientoDao();
        executor = GestorBaseDatos.databaseExecutor;
    }

    // Insertar
    public void insertar(Movimiento mov, CallbackInt callback) {
        executor.execute(() -> {
            int result = (int) dao.insertar(mov);
            callback.onResult(result);
        });
    }

    // Actualizar
    public void actualizar(Movimiento mov, CallbackInt callback) {
        executor.execute(() -> {
            int result = dao.actualizar(mov);
            callback.onResult(result);
        });
    }

    // Obtener por ID
    public void obtenerPorId(int id, CallbackMovimiento callback) {
        executor.execute(() -> {
            Movimiento mov = dao.obtenerPorId(id);
            callback.onResult(mov);
        });
    }

    // Obtener todos
    public void obtenerTodos(CallbackListaMovimiento callback) {
        executor.execute(() -> callback.onResult(dao.obtenerTodos()));
    }

    // Obtener por tipo
    public void obtenerPorTipo(String tipo, CallbackListaMovimiento callback) {
        executor.execute(() -> callback.onResult(dao.obtenerPorTipo(tipo)));
    }

    // Obtener suma por tipo
    public void obtenerSumaPorTipo(String tipo, CallbackDouble callback) {
        executor.execute(() -> {
            Double valor = dao.obtenerSumaPorTipo(tipo);
            callback.onResult(valor != null ? valor : 0.0);
        });
    }

}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\controller\PresupuestoControlador.java ---

package com.example.healthywallet.controller;

import android.content.Context;

import com.example.healthywallet.database.GestorBaseDatos;
import com.example.healthywallet.database.DAO.PresupuestoDao;
import com.example.healthywallet.database.entities.Presupuesto;

import java.util.List;
import java.util.concurrent.ExecutorService;

public class PresupuestoControlador {

    public interface CallbackListaPresupuesto {
        void onResult(List<Presupuesto> lista);
    }

    public interface CallbackPresupuesto {
        void onResult(Presupuesto p);
    }

    public interface CallbackInt {
        void onResult(int valor);
    }

    public interface CallbackLong {
        void onResult(long valor);
    }

    private final PresupuestoDao dao;
    private final ExecutorService executor;

    public PresupuestoControlador(Context context) {
        GestorBaseDatos db = GestorBaseDatos.obtenerInstancia(context);
        dao = db.presupuestoDao();
        executor = GestorBaseDatos.databaseExecutor;
    }

    public void insertar(Presupuesto p, CallbackLong callback) {
        executor.execute(() -> callback.onResult(dao.insertar(p)));
    }

    public void actualizar(Presupuesto p, CallbackInt callback) {
        executor.execute(() -> callback.onResult(dao.actualizar(p)));
    }

    public void obtenerPorId(int id, CallbackPresupuesto callback) {
        executor.execute(() -> callback.onResult(dao.obtenerPorId(id)));
    }

    public void obtenerTodos(CallbackListaPresupuesto callback) {
        executor.execute(() -> callback.onResult(dao.obtenerTodos()));
    }

    public void actualizarGasto(int id, double gasto, CallbackInt callback) {
        executor.execute(() -> callback.onResult(dao.actualizarGasto(id, gasto)));
    }

    public void eliminar(Presupuesto p, CallbackInt callback) {
        executor.execute(() -> callback.onResult(dao.eliminar(p)));
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\DAO\CategoriaDao.java ---

package com.example.healthywallet.database.DAO;

import androidx.room.Dao;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;

import com.example.healthywallet.database.entities.Categoria;

import java.util.List;

@Dao
public interface CategoriaDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    long insertar(Categoria categoria);

    @Query("SELECT * FROM categorias ORDER BY nombre ASC")
    List<Categoria> obtenerTodas();

    @Query("DELETE FROM categorias WHERE id = :id")
    int eliminarPorId(int id);
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\DAO\FormacionDao.java ---

package com.example.healthywallet.database.DAO;

import androidx.room.Dao;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;

import com.example.healthywallet.database.entities.Formacion;

import java.util.List;

@Dao
public interface FormacionDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    long insertar(Formacion formacion);

    @Query("SELECT * FROM formacion ORDER BY nivel ASC")
    List<Formacion> obtenerTodas();

    @Query("DELETE FROM formacion WHERE id = :id")
    int eliminarPorId(int id);
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\DAO\MetaDao.java ---

package com.example.healthywallet.database.DAO;

import androidx.room.Dao;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;
import androidx.room.Delete;

import com.example.healthywallet.database.entities.Meta;

import java.util.List;

@Dao
public interface MetaDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    long insertar(Meta meta);

    @Update
    int actualizar(Meta meta);

    @Delete
    int eliminar(Meta meta);

    @Query("SELECT * FROM metas ORDER BY fechaObjetivo ASC")
    List<Meta> obtenerTodas();

    @Query("SELECT * FROM metas WHERE id = :id LIMIT 1")
    Meta obtenerPorId(int id);

    @Query("UPDATE metas SET cantidadActual = :cantidad WHERE id = :id")
    int actualizarCantidad(double cantidad, int id);

}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\DAO\MovimientoDao.java ---

package com.example.healthywallet.database.DAO;

import androidx.room.Dao;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Delete;
import androidx.room.Update;

import com.example.healthywallet.database.entities.Movimiento;

import java.util.List;

@Dao
public interface MovimientoDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    long insertar(Movimiento movimiento);

    @Update
    int actualizar(Movimiento movimiento);

    @Delete
    int eliminar(Movimiento movimiento);

    @Query("SELECT * FROM movimientos ORDER BY fecha DESC")
    List<Movimiento> obtenerTodos();

    @Query("SELECT * FROM movimientos WHERE tipo = :tipo ORDER BY fecha DESC")
    List<Movimiento> obtenerPorTipo(String tipo);

    @Query("SELECT SUM(cantidad) FROM movimientos WHERE tipo = :tipo")
    Double obtenerSumaPorTipo(String tipo);

    @Query("SELECT * FROM movimientos WHERE id = :id LIMIT 1")
    Movimiento obtenerPorId(int id);
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\DAO\PresupuestoDao.java ---

package com.example.healthywallet.database.DAO;

import androidx.room.Dao;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;
import androidx.room.Delete;

import com.example.healthywallet.database.entities.Presupuesto;

import java.util.List;

@Dao
public interface PresupuestoDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    long insertar(Presupuesto presupuesto);

    @Update
    int actualizar(Presupuesto presupuesto);

    @Delete
    int eliminar(Presupuesto presupuesto);

    @Query("SELECT * FROM presupuestos ORDER BY categoria ASC")
    List<Presupuesto> obtenerTodos();

    @Query("SELECT * FROM presupuestos WHERE id = :id LIMIT 1")
    Presupuesto obtenerPorId(int id);

    @Query("UPDATE presupuestos SET gastoActual = :nuevoGasto WHERE id = :id")
    int actualizarGasto(int id, double nuevoGasto);
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\entities\Categoria.java ---

package com.example.healthywallet.database.entities;

import androidx.room.ColumnInfo;
import androidx.room.Entity;
import androidx.room.PrimaryKey;

@Entity(tableName = "categorias")
public class Categoria {

    @PrimaryKey(autoGenerate = true)
    private int id;

    @ColumnInfo(name = "nombre")
    private String nombre;

    @ColumnInfo(name = "descripcion")
    private String descripcion;

    public Categoria(String nombre, String descripcion) {
        this.nombre = nombre;
        this.descripcion = descripcion;
    }

    public int getId() { return id; }
    public void setId(int id) { this.id = id; }

    public String getNombre() { return nombre; }
    public void setNombre(String nombre) { this.nombre = nombre; }

    public String getDescripcion() { return descripcion; }
    public void setDescripcion(String descripcion) { this.descripcion = descripcion; }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\entities\Formacion.java ---

package com.example.healthywallet.database.entities;

import androidx.room.ColumnInfo;
import androidx.room.Entity;
import androidx.room.PrimaryKey;

@Entity(tableName = "formacion")
public class Formacion {

    @PrimaryKey(autoGenerate = true)
    private int id;

    @ColumnInfo(name = "titulo")
    private String titulo;

    @ColumnInfo(name = "descripcion")
    private String descripcion;

    @ColumnInfo(name = "nivel")
    private String nivel;

    public Formacion(String titulo, String descripcion, String nivel) {
        this.titulo = titulo;
        this.descripcion = descripcion;
        this.nivel = nivel;
    }

    public int getId() { return id; }
    public void setId(int id) { this.id = id; }

    public String getTitulo() { return titulo; }
    public void setTitulo(String titulo) { this.titulo = titulo; }

    public String getDescripcion() { return descripcion; }
    public void setDescripcion(String descripcion) { this.descripcion = descripcion; }

    public String getNivel() { return nivel; }
    public void setNivel(String nivel) { this.nivel = nivel; }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\entities\Meta.java ---

package com.example.healthywallet.database.entities;

import androidx.room.ColumnInfo;
import androidx.room.Entity;
import androidx.room.PrimaryKey;

@Entity(tableName = "metas")
public class Meta {

    @PrimaryKey(autoGenerate = true)
    private int id;

    @ColumnInfo(name = "nombre")
    private String nombre;

    @ColumnInfo(name = "cantidadObjetivo")
    private double cantidadObjetivo;

    @ColumnInfo(name = "cantidadActual")
    private double cantidadActual;

    @ColumnInfo(name = "fechaObjetivo")
    private String fechaObjetivo;

    public Meta(String nombre, double cantidadObjetivo, double cantidadActual, String fechaObjetivo) {
        this.nombre = nombre;
        this.cantidadObjetivo = cantidadObjetivo;
        this.cantidadActual = cantidadActual;
        this.fechaObjetivo = fechaObjetivo;
    }

    public int getId() { return id; }
    public void setId(int id) { this.id = id; }

    public String getNombre() { return nombre; }
    public void setNombre(String nombre) { this.nombre = nombre; }

    public double getCantidadObjetivo() { return cantidadObjetivo; }
    public void setCantidadObjetivo(double cantidadObjetivo) { this.cantidadObjetivo = cantidadObjetivo; }

    public double getCantidadActual() { return cantidadActual; }
    public void setCantidadActual(double cantidadActual) { this.cantidadActual = cantidadActual; }

    public String getFechaObjetivo() { return fechaObjetivo; }
    public void setFechaObjetivo(String fechaObjetivo) { this.fechaObjetivo = fechaObjetivo; }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\entities\Movimiento.java ---

package com.example.healthywallet.database.entities;

import androidx.room.ColumnInfo;
import androidx.room.Entity;
import androidx.room.PrimaryKey;

@Entity(tableName = "movimientos")
public class Movimiento {

    @PrimaryKey(autoGenerate = true)
    private int id;

    @ColumnInfo(name = "tipo")
    private String tipo;

    @ColumnInfo(name = "categoria")
    private String categoria;

    @ColumnInfo(name = "cantidad")
    private double cantidad;

    @ColumnInfo(name = "fecha")
    private String fecha;

    @ColumnInfo(name = "descripcion")
    private String descripcion;

    public Movimiento(String tipo, String categoria, double cantidad, String fecha, String descripcion) {
        this.tipo = tipo;
        this.categoria = categoria;
        this.cantidad = cantidad;
        this.fecha = fecha;
        this.descripcion = descripcion;
    }

    public int getId() { return id; }
    public void setId(int id) { this.id = id; }

    public String getTipo() { return tipo; }
    public void setTipo(String tipo) { this.tipo = tipo; }

    public String getCategoria() { return categoria; }
    public void setCategoria(String categoria) { this.categoria = categoria; }

    public double getCantidad() { return cantidad; }
    public void setCantidad(double cantidad) { this.cantidad = cantidad; }

    public String getFecha() { return fecha; }
    public void setFecha(String fecha) { this.fecha = fecha; }

    public String getDescripcion() { return descripcion; }
    public void setDescripcion(String descripcion) { this.descripcion = descripcion; }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\entities\Presupuesto.java ---

package com.example.healthywallet.database.entities;

import androidx.room.ColumnInfo;
import androidx.room.Entity;
import androidx.room.PrimaryKey;

@Entity(tableName = "presupuestos")
public class Presupuesto {

    @PrimaryKey(autoGenerate = true)
    private int id;

    @ColumnInfo(name = "categoria")
    private String categoria;

    @ColumnInfo(name = "limite")
    private double limite;

    @ColumnInfo(name = "gastoActual")
    private double gastoActual;

    public Presupuesto(String categoria, double limite, double gastoActual) {
        this.categoria = categoria;
        this.limite = limite;
        this.gastoActual = gastoActual;
    }

    public int getId() { return id; }
    public void setId(int id) { this.id = id; }

    public String getCategoria() { return categoria; }
    public void setCategoria(String categoria) { this.categoria = categoria; }

    public double getLimite() { return limite; }
    public void setLimite(double limite) { this.limite = limite; }

    public double getGastoActual() { return gastoActual; }
    public void setGastoActual(double gastoActual) { this.gastoActual = gastoActual; }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\entities\RecursoEducativo.java ---

package com.example.healthywallet.database.entities;

import androidx.room.Entity;
import androidx.room.PrimaryKey;

@Entity(tableName = "recursos_educativos")
public class RecursoEducativo {

    @PrimaryKey(autoGenerate = true)
    private int id;

    private String tipo; // "video", "libro", "herramienta"
    private String titulo;
    private String url;

    private boolean completado;
    private long fechaCompletado;

    private long fechaRecomendado; // Para renovaciÃ³n cada 14 dÃ­as

    // Getters y setters
    public int getId() { return id; }
    public void setId(int id) { this.id = id; }

    public String getTipo() { return tipo; }
    public void setTipo(String tipo) { this.tipo = tipo; }

    public String getTitulo() { return titulo; }
    public void setTitulo(String titulo) { this.titulo = titulo; }

    public String getUrl() { return url; }
    public void setUrl(String url) { this.url = url; }

    public boolean isCompletado() { return completado; }
    public void setCompletado(boolean completado) { this.completado = completado; }

    public long getFechaCompletado() { return fechaCompletado; }
    public void setFechaCompletado(long fechaCompletado) { this.fechaCompletado = fechaCompletado; }

    public long getFechaRecomendado() { return fechaRecomendado; }
    public void setFechaRecomendado(long fechaRecomendado) { this.fechaRecomendado = fechaRecomendado; }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\database\GestorBaseDatos.java ---

package com.example.healthywallet.database;

import android.content.Context;

import androidx.annotation.NonNull;
import androidx.room.Database;
import androidx.room.Room;
import androidx.room.RoomDatabase;
import androidx.room.migration.Migration;
import androidx.sqlite.db.SupportSQLiteDatabase;

import com.example.healthywallet.database.DAO.CategoriaDao;
import com.example.healthywallet.database.DAO.FormacionDao;
import com.example.healthywallet.database.DAO.MetaDao;
import com.example.healthywallet.database.DAO.MovimientoDao;
import com.example.healthywallet.database.DAO.PresupuestoDao;

import com.example.healthywallet.database.entities.Categoria;
import com.example.healthywallet.database.entities.Formacion;
import com.example.healthywallet.database.entities.Meta;
import com.example.healthywallet.database.entities.Movimiento;
import com.example.healthywallet.database.entities.Presupuesto;
import com.example.healthywallet.database.entities.RecursoEducativo;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

@Database(
        entities = {
                Movimiento.class,
                Categoria.class,
                Presupuesto.class,
                Meta.class,
                Formacion.class,
                RecursoEducativo.class   // â­ NUEVO
        },
        version = 3,
        exportSchema = true
)
public abstract class GestorBaseDatos extends RoomDatabase {

    public abstract MovimientoDao movimientoDao();
    public abstract CategoriaDao categoriaDao();
    public abstract PresupuestoDao presupuestoDao();
    public abstract MetaDao metaDao();
    public abstract FormacionDao formacionDao();

    private static volatile GestorBaseDatos INSTANCIA;

    private static final int NUM_HILOS = 4;
    public static final ExecutorService databaseExecutor =
            Executors.newFixedThreadPool(NUM_HILOS);

    // MigraciÃ³n 1â†’2 vacÃ­a
    static final Migration MIGRACION_1_2 = new Migration(1, 2) {
        @Override
        public void migrate(@NonNull SupportSQLiteDatabase database) {}
    };

    // â­ MigraciÃ³n 2â†’3 para crear la nueva tabla
    static final Migration MIGRACION_2_3 = new Migration(2, 3) {
        @Override
        public void migrate(@NonNull SupportSQLiteDatabase db) {

            db.execSQL("CREATE TABLE IF NOT EXISTS `recursos_educativos` (" +
                    "`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, " +
                    "`tipo` TEXT NOT NULL, " +
                    "`titulo` TEXT NOT NULL, " +
                    "`url` TEXT NOT NULL, " +
                    "`completado` INTEGER NOT NULL, " +
                    "`fechaCompletado` INTEGER NOT NULL, " +
                    "`fechaRecomendado` INTEGER NOT NULL )");
        }
    };

    public static GestorBaseDatos obtenerInstancia(Context context) {
        if (INSTANCIA == null) {
            synchronized (GestorBaseDatos.class) {
                if (INSTANCIA == null) {
                    INSTANCIA = Room.databaseBuilder(
                                    context.getApplicationContext(),
                                    GestorBaseDatos.class,
                                    "HealthyWalletDB"
                            )
                            .addMigrations(MIGRACION_1_2, MIGRACION_2_3)  // â­ IMPORTANTE
                            .build();
                }
            }
        }
        return INSTANCIA;
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\ajustes\PantallaAjustes.java ---

package com.example.healthywallet.ui.ajustes;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;

import com.example.healthywallet.R;

public class PantallaAjustes extends Fragment {

    public PantallaAjustes() { }

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {
        return inflater.inflate(R.layout.pantalla_ajustes, container, false);
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\educacion\PantallaEducacion.java ---

package com.example.healthywallet.ui.educacion;

import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.cardview.widget.CardView;
import androidx.fragment.app.Fragment;

import com.example.healthywallet.R;

public class PantallaEducacion extends Fragment {

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_educacion, container, false);

        // =========== ASIGNAR CARDS ===========
        CardView cardVideo1 = vista.findViewById(R.id.cardVideo1);
        CardView cardVideo2 = vista.findViewById(R.id.cardVideo2);

        CardView cardLibro1 = vista.findViewById(R.id.cardLibro1);

        CardView cardTool1 = vista.findViewById(R.id.cardTool1);
        CardView cardTool2 = vista.findViewById(R.id.cardTool2);
        CardView cardTool3 = vista.findViewById(R.id.cardTool3);

        // =========== EVENTOS ===========

        abrir(cardVideo1, "https://youtu.be/ujY0DkyL--w?si=bOuKABNajrNIy-iT");
        abrir(cardVideo2, "https://youtu.be/bkYK-akFam4?si=zZ1Oug3rfNqxzNex");

        abrir(cardLibro1, "https://www.amazon.es/s?k=padre+rico+padre+pobre&__mk_es_ES=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=3CQQ3JP79SI2&sprefix=padre+rico+padre+pobre+%2Caps%2C73&ref=nb_sb_noss_2");

        abrir(cardTool1, "https://es.investing.com/");
        abrir(cardTool2, "https://www.tradingview.com/");
        abrir(cardTool3, "http://www.moneychimp.com/");

        return vista;
    }

    private void abrir(CardView card, String url) {
        card.setOnClickListener(v -> {
            Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(url));
            startActivity(i);
        });
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\inicio\PantallaBalanceGeneral.java ---

package com.example.healthywallet.ui.inicio;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.LinearLayout;
import android.widget.ProgressBar;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;

import com.example.healthywallet.R;
import com.example.healthywallet.controller.MetaControlador;
import com.example.healthywallet.controller.MovimientosControlador;
import com.example.healthywallet.controller.PresupuestoControlador;
import com.example.healthywallet.database.entities.Meta;
import com.example.healthywallet.database.entities.Presupuesto;

import java.util.List;

public class PantallaBalanceGeneral extends Fragment {

    TextView txtBalanceMes, txtIngresosGastosMes;
    ProgressBar barraAhorroMes, barraPresupuestoMes, barraMetas;
    LinearLayout layoutCategorias;

    MovimientosControlador movC;
    PresupuestoControlador preC;
    MetaControlador metaC;

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View v = inflater.inflate(R.layout.pantalla_balance_general, container, false);

        txtBalanceMes = v.findViewById(R.id.txtBalanceMes);
        txtIngresosGastosMes = v.findViewById(R.id.txtIngresosGastosMes);

        barraAhorroMes = v.findViewById(R.id.barraAhorroMes);
        barraPresupuestoMes = v.findViewById(R.id.barraPresupuestoMes);
        barraMetas = v.findViewById(R.id.barraMetas);

        layoutCategorias = v.findViewById(R.id.layoutCategorias);

        movC = new MovimientosControlador(getContext());
        preC = new PresupuestoControlador(getContext());
        metaC = new MetaControlador(getContext());

        cargarBalanceMes();
        cargarPresupuestos();
        cargarMetas();
        cargarCategorias();

        return v;
    }

    // -----------------------------
    // BALANCE DEL MES
    // -----------------------------
    private void cargarBalanceMes() {

        movC.obtenerSumaPorTipo("Ingreso", ingresos ->
                movC.obtenerSumaPorTipo("Gasto", gastos -> {

                    double balance = ingresos - gastos;

                    requireActivity().runOnUiThread(() -> {
                        txtBalanceMes.setText(String.format("%.2f â‚¬", balance));
                        txtIngresosGastosMes.setText(
                                String.format("+%.2f ingresos | -%.2f gastos", ingresos, gastos)
                        );
                    });
                })
        );
    }

    // -----------------------------
    // PRESUPUESTOS
    // -----------------------------
    private void cargarPresupuestos() {

        preC.obtenerTodos(lista -> {

            double gasto = 0;
            double limite = 0;

            if (lista != null) {
                for (Presupuesto p : lista) {
                    gasto += p.getGastoActual();
                    limite += p.getLimite();
                }
            }

            final int porcentaje = (int) ((limite == 0) ? 0 : (gasto / limite) * 100);

            requireActivity().runOnUiThread(() ->
                    barraPresupuestoMes.setProgress(porcentaje)
            );
        });
    }

    // -----------------------------
    // METAS
    // -----------------------------
    private void cargarMetas() {

        metaC.obtenerTodas(lista -> {

            double progreso = 0;
            double total = 0;

            if (lista != null) {
                for (Meta m : lista) {
                    progreso += m.getCantidadActual();
                    total += m.getCantidadObjetivo();
                }
            }

            final int porcentaje = (int) ((total == 0) ? 0 : (progreso / total) * 100);

            requireActivity().runOnUiThread(() ->
                    barraMetas.setProgress(porcentaje)
            );
        });
    }

    // -----------------------------
    // CATEGORÃAS
    // -----------------------------
    private void cargarCategorias() {
        // EN FUTURO: insertar labels dinÃ¡micas de categorÃ­as
        // evitando errores por falta de datos
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\inicio\PantallaInicio.java ---

package com.example.healthywallet.ui.inicio;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.cardview.widget.CardView;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;

import com.example.healthywallet.R;
import com.example.healthywallet.controller.FormacionControlador;
import com.example.healthywallet.controller.MetaControlador;
import com.example.healthywallet.controller.MovimientosControlador;
import com.example.healthywallet.controller.PresupuestoControlador;
import com.example.healthywallet.database.entities.Formacion;
import com.example.healthywallet.database.entities.Meta;
import com.example.healthywallet.database.entities.Presupuesto;

import java.util.List;

public class PantallaInicio extends Fragment {

    // UI
    private TextView txtBalanceCantidadInicio;
    private TextView txtResumenMovimientosInicio;
    private TextView txtResumenPresupuestosInicio;
    private TextView txtResumenMetasInicio;
    private TextView txtResumenEducacionInicio;

    private CardView cardBalanceGeneral;  // NUEVA TARJETA
    private CardView cardMovimientos, cardPresupuestos, cardMetas, cardEducacion;

    // Controllers
    private MovimientosControlador movimientosControlador;
    private PresupuestoControlador presupuestoControlador;
    private MetaControlador metaControlador;
    private FormacionControlador formacionControlador;

    @Nullable
    @Override
    public View onCreateView(
            @NonNull LayoutInflater inflater,
            @Nullable ViewGroup container,
            @Nullable Bundle savedInstanceState
    ) {

        View vista = inflater.inflate(R.layout.pantalla_inicio, container, false);

        // Controladores
        movimientosControlador = new MovimientosControlador(getContext());
        presupuestoControlador = new PresupuestoControlador(getContext());
        metaControlador = new MetaControlador(getContext());
        formacionControlador = new FormacionControlador(getContext());

        // UI
        txtBalanceCantidadInicio = vista.findViewById(R.id.txtBalanceCantidadInicio);
        txtResumenMovimientosInicio = vista.findViewById(R.id.txtResumenMovimientosInicio);
        txtResumenPresupuestosInicio = vista.findViewById(R.id.txtResumenPresupuestosInicio);
        txtResumenMetasInicio = vista.findViewById(R.id.txtResumenMetasInicio);
        txtResumenEducacionInicio = vista.findViewById(R.id.txtResumenEducacionInicio);

        cardBalanceGeneral = vista.findViewById(R.id.cardBalanceGeneral); 
        cardMovimientos = vista.findViewById(R.id.cardMovimientos);
        cardPresupuestos = vista.findViewById(R.id.cardPresupuestos);
        cardMetas = vista.findViewById(R.id.cardMetas);
        cardEducacion = vista.findViewById(R.id.cardEducacion);

        // NavegaciÃ³n
        cardBalanceGeneral.setOnClickListener(v ->
                Navigation.findNavController(v).navigate(R.id.pantallaBalanceGeneral)
        );

        cardMovimientos.setOnClickListener(v ->
                Navigation.findNavController(v).navigate(R.id.nav_movimientos));

        cardPresupuestos.setOnClickListener(v ->
                Navigation.findNavController(v).navigate(R.id.nav_presupuestos));

        cardMetas.setOnClickListener(v ->
                Navigation.findNavController(v).navigate(R.id.nav_metas));

        cardEducacion.setOnClickListener(v ->
                Navigation.findNavController(v).navigate(R.id.nav_educacion));

        cargarDatos();

        return vista;
    }


    private void cargarDatos() {

        // -------- MOVIMIENTOS --------
        movimientosControlador.obtenerSumaPorTipo("Ingreso", ingresos ->
                movimientosControlador.obtenerSumaPorTipo("Gasto", gastos -> {

                    double balance = ingresos - gastos;

                    requireActivity().runOnUiThread(() -> {
                        txtBalanceCantidadInicio.setText(String.format("%.2f â‚¬", balance));
                        txtResumenMovimientosInicio.setText(
                                String.format("+%.2f ingresos | -%.2f gastos", ingresos, gastos)
                        );
                    });

                })
        );

        // -------- PRESUPUESTOS --------
        presupuestoControlador.obtenerTodos(presupuestos -> {

            double totalLimite = 0, totalGasto = 0;

            if (presupuestos != null) {
                for (Presupuesto p : presupuestos) {
                    totalLimite += p.getLimite();
                    totalGasto += p.getGastoActual();
                }
            }

            double finalTotalLimite = totalLimite;
            double finalTotalGasto = totalGasto;

            requireActivity().runOnUiThread(() ->
                    txtResumenPresupuestosInicio.setText(
                            String.format("%.2f â‚¬ gastados / %.2f â‚¬", finalTotalGasto, finalTotalLimite)
                    )
            );
        });

        // -------- METAS --------
        metaControlador.obtenerTodas(metas -> {

            int activas = 0;
            int completadas = 0;

            if (metas != null) {
                for (Meta m : metas) {
                    if (m.getCantidadActual() >= m.getCantidadObjetivo())
                        completadas++;
                    else
                        activas++;
                }
            }

            int finalActivas = activas;
            int finalCompletadas = completadas;

            requireActivity().runOnUiThread(() ->
                    txtResumenMetasInicio.setText(
                            String.format("%d activas | %d completadas", finalActivas, finalCompletadas)
                    ));
        });

        // -------- EDUCACIÃ“N --------
        formacionControlador.obtenerTodas(modulos -> {

            int total = (modulos != null ? modulos.size() : 0);

            requireActivity().runOnUiThread(() ->
                    txtResumenEducacionInicio.setText(
                            String.format("%d mÃ³dulos registrados", total)
                    )
            );
        });
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\metas\PantallaAgregarAhorro.java ---

package com.example.healthywallet.ui.metas;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;
import android.widget.ProgressBar;
import android.widget.TextView;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;

import com.example.healthywallet.R;
import com.example.healthywallet.controller.MetaControlador;
import com.example.healthywallet.database.entities.Meta;
import com.google.android.material.floatingactionbutton.FloatingActionButton;

public class PantallaAgregarAhorro extends Fragment {

    private TextView txtNombreMeta, txtResumen;
    private ProgressBar barra;
    private EditText inputCantidad;
    private FloatingActionButton btnGuardar;

    private MetaControlador controlador;
    private Meta metaActual;

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_agregar_ahorro, container, false);

        controlador = new MetaControlador(requireContext());

        txtNombreMeta = vista.findViewById(R.id.txtNombreMetaAhorro);
        txtResumen = vista.findViewById(R.id.txtResumenAhorro);
        barra = vista.findViewById(R.id.barraMetaAhorro);
        inputCantidad = vista.findViewById(R.id.inputCantidadAhorro);
        btnGuardar = vista.findViewById(R.id.btnGuardarAhorro);

        int metaId = getArguments().getInt("metaId", -1);
        if (metaId == -1) {
            Toast.makeText(requireContext(), "Error al cargar meta", Toast.LENGTH_SHORT).show();
            Navigation.findNavController(vista).navigateUp();
            return vista;
        }

        cargarMeta(metaId);
        configurarBotonGuardar(vista);

        return vista;
    }

    private void cargarMeta(int id) {
        controlador.obtenerPorId(id, meta -> {

            requireActivity().runOnUiThread(() -> {

                if (meta == null) {
                    Toast.makeText(requireContext(), "Meta no encontrada", Toast.LENGTH_SHORT).show();
                    return;
                }

                metaActual = meta;

                txtNombreMeta.setText(meta.getNombre());

                txtResumen.setText(
                        String.format("%.2f â‚¬ / %.2f â‚¬",
                                meta.getCantidadActual(), meta.getCantidadObjetivo())
                );

                double porcentaje = (meta.getCantidadActual() / meta.getCantidadObjetivo()) * 100;
                barra.setProgress((int) porcentaje);
            });
        });
    }

    private void configurarBotonGuardar(View vista) {

        btnGuardar.setOnClickListener(v -> {

            String cantidadStr = inputCantidad.getText().toString().trim();

            if (cantidadStr.isEmpty()) {
                Toast.makeText(requireContext(), "Introduce una cantidad", Toast.LENGTH_SHORT).show();
                return;
            }

            double cantidad;
            try {
                cantidad = Double.parseDouble(cantidadStr);
            } catch (Exception e) {
                Toast.makeText(requireContext(), "Formato invÃ¡lido", Toast.LENGTH_SHORT).show();
                return;
            }

            if (cantidad <= 0) {
                Toast.makeText(requireContext(), "La cantidad debe ser mayor que 0", Toast.LENGTH_SHORT).show();
                return;
            }

            // sumamos al progreso actual
            double nuevoTotal = metaActual.getCantidadActual() + cantidad;
            metaActual.setCantidadActual(nuevoTotal);

            controlador.actualizar(metaActual, filas -> {
                requireActivity().runOnUiThread(() -> {

                    if (filas > 0) {
                        Toast.makeText(requireContext(), "Ahorro aÃ±adido", Toast.LENGTH_SHORT).show();
                        Navigation.findNavController(vista).navigateUp();
                    } else {
                        Toast.makeText(requireContext(), "Error al guardar", Toast.LENGTH_SHORT).show();
                    }

                });
            });
        });

    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\metas\PantallaAgregarMeta.java ---

package com.example.healthywallet.ui.metas;

import android.app.DatePickerDialog;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.DatePicker;
import android.widget.EditText;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;

import com.example.healthywallet.R;
import com.example.healthywallet.controller.MetaControlador;
import com.example.healthywallet.database.entities.Meta;
import com.google.android.material.floatingactionbutton.FloatingActionButton;

import java.util.Calendar;

public class PantallaAgregarMeta extends Fragment {

    private EditText inputNombreMeta, inputCantidadObjetivo, inputCantidadActual, inputFechaObjetivo;
    private FloatingActionButton btnGuardar;
    private MetaControlador controlador;

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_agregar_meta, container, false);

        controlador = new MetaControlador(requireContext());

        // Referencias UI
        inputNombreMeta = vista.findViewById(R.id.inputNombreMeta);
        inputCantidadObjetivo = vista.findViewById(R.id.inputCantidadObjetivo);
        inputCantidadActual = vista.findViewById(R.id.inputCantidadActual);
        inputFechaObjetivo = vista.findViewById(R.id.inputFechaObjetivo);
        btnGuardar = vista.findViewById(R.id.btnGuardarMeta);

        configurarFecha();
        configurarBotonGuardar();

        return vista;
    }

    private void configurarFecha() {
        inputFechaObjetivo.setOnClickListener(v -> {

            Calendar calendar = Calendar.getInstance();
            int year = calendar.get(Calendar.YEAR);
            int month = calendar.get(Calendar.MONTH);
            int day = calendar.get(Calendar.DAY_OF_MONTH);

            DatePickerDialog dialog = new DatePickerDialog(
                    requireContext(),
                    (DatePicker view, int y, int m, int d) ->
                            inputFechaObjetivo.setText(d + "/" + (m + 1) + "/" + y),
                    year, month, day
            );

            dialog.show();
        });
    }

    private void configurarBotonGuardar() {

        btnGuardar.setOnClickListener(v -> {

            String nombre = inputNombreMeta.getText().toString().trim();
            String objStr = inputCantidadObjetivo.getText().toString().trim();
            String actualStr = inputCantidadActual.getText().toString().trim();
            String fecha = inputFechaObjetivo.getText().toString().trim();

            if (nombre.isEmpty() || objStr.isEmpty() || fecha.isEmpty()) {
                Toast.makeText(requireContext(), "Completa todos los campos obligatorios", Toast.LENGTH_SHORT).show();
                return;
            }

            double objetivo, actual;

            try {
                objetivo = Double.parseDouble(objStr);
                actual = actualStr.isEmpty() ? 0 : Double.parseDouble(actualStr);
            } catch (Exception e) {
                Toast.makeText(requireContext(), "Formato de cantidad invÃ¡lido", Toast.LENGTH_SHORT).show();
                return;
            }

            if (objetivo <= 0) {
                Toast.makeText(requireContext(), "La meta debe tener una cantidad mayor a 0", Toast.LENGTH_SHORT).show();
                return;
            }

            Meta meta = new Meta(nombre, objetivo, actual, fecha);

            controlador.insertar(meta, id -> {
                requireActivity().runOnUiThread(() -> {
                    if (id > 0) {
                        Toast.makeText(requireContext(), "Meta creada", Toast.LENGTH_SHORT).show();
                        Navigation.findNavController(v).navigateUp();
                    } else {
                        Toast.makeText(requireContext(), "Error al guardar", Toast.LENGTH_SHORT).show();
                    }
                });
            });

        });
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\metas\PantallaDetalleMeta.java ---

package com.example.healthywallet.ui.metas;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.ProgressBar;
import android.widget.TextView;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;

import com.example.healthywallet.R;
import com.example.healthywallet.controller.MetaControlador;
import com.example.healthywallet.database.entities.Meta;

public class PantallaDetalleMeta extends Fragment {

    private TextView txtTitulo, txtCantidades, txtPorcentaje, txtFecha;
    private ProgressBar barra;
    private Button btnAgregarAhorro, btnEliminar;

    private MetaControlador controlador;
    private Meta metaActual;
    private int metaId;

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_detalle_meta, container, false);

        controlador = new MetaControlador(requireContext());

        txtTitulo = vista.findViewById(R.id.txtTituloMeta);
        txtCantidades = vista.findViewById(R.id.txtCantidadesDetalle);
        txtPorcentaje = vista.findViewById(R.id.txtPorcentajeDetalle);
        txtFecha = vista.findViewById(R.id.txtFechaDetalle);
        barra = vista.findViewById(R.id.barraDetalleMeta);
        btnAgregarAhorro = vista.findViewById(R.id.btnAgregarAhorro);
        btnEliminar = vista.findViewById(R.id.btnEliminarMeta);

        // Recuperar ID de la meta
        metaId = getArguments().getInt("metaId", -1);

        if (metaId == -1) {
            Toast.makeText(requireContext(), "Error al cargar meta", Toast.LENGTH_SHORT).show();
            return vista;
        }

        cargarMeta();

        btnAgregarAhorro.setOnClickListener(v -> {
            Bundle bundle = new Bundle();
            bundle.putInt("metaId", metaId);

            Navigation.findNavController(v)
                    .navigate(R.id.pantallaAgregarAhorro, bundle);
        });

        btnEliminar.setOnClickListener(v -> eliminarMeta());

        return vista;
    }

    private void cargarMeta() {
        controlador.obtenerPorId(metaId, meta -> requireActivity().runOnUiThread(() -> {
            metaActual = meta;

            if (metaActual == null) return;

            txtTitulo.setText(metaActual.getNombre());
            txtCantidades.setText(metaActual.getCantidadActual() + " â‚¬ / " +
                    metaActual.getCantidadObjetivo() + " â‚¬");
            txtFecha.setText("Fecha objetivo: " + metaActual.getFechaObjetivo());

            double porcentaje = (metaActual.getCantidadActual() /
                    metaActual.getCantidadObjetivo()) * 100;

            if (porcentaje > 100) porcentaje = 100;

            txtPorcentaje.setText(String.format("%.0f%%", porcentaje));
            barra.setProgress((int) porcentaje);
        }));
    }

    private void eliminarMeta() {

        if (metaActual == null) {
            Toast.makeText(requireContext(), "Error: meta no cargada", Toast.LENGTH_SHORT).show();
            return;
        }

        controlador.eliminar(metaActual, filas -> requireActivity().runOnUiThread(() -> {

            boolean ok = filas > 0;

            if (ok) {
                Toast.makeText(requireContext(), "Meta eliminada", Toast.LENGTH_SHORT).show();
                Navigation.findNavController(requireView()).navigateUp();
            } else {
                Toast.makeText(requireContext(), "Error al eliminar", Toast.LENGTH_SHORT).show();
            }

        }));
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\metas\PantallaMetas.java ---

package com.example.healthywallet.ui.metas;

import android.app.AlertDialog;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.healthywallet.R;
import com.example.healthywallet.adapters.AdaptadorMetas;
import com.example.healthywallet.controller.MetaControlador;
import com.example.healthywallet.database.entities.Meta;
import com.google.android.material.floatingactionbutton.FloatingActionButton;

import java.util.ArrayList;
import java.util.List;

public class PantallaMetas extends Fragment {

    private RecyclerView recycler;
    private AdaptadorMetas adaptador;
    private FloatingActionButton fabAgregar;

    private TextView txtResumenCantidad;

    private MetaControlador controlador;
    private final List<Meta> listaMetas = new ArrayList<>();

    public PantallaMetas() { }

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_metas, container, false);

        controlador = new MetaControlador(requireContext());

        recycler = vista.findViewById(R.id.recyclerMetas);
        fabAgregar = vista.findViewById(R.id.fabAgregarMeta);
        txtResumenCantidad = vista.findViewById(R.id.txtResumenCantidad);

        recycler.setLayoutManager(new LinearLayoutManager(getContext()));
        adaptador = new AdaptadorMetas(getContext(), listaMetas);
        recycler.setAdapter(adaptador);

        // CLICK: abrir detalle de meta
        adaptador.setOnMetaClickListener(meta -> {
            Bundle b = new Bundle();
            b.putInt("metaId", meta.getId());
            Navigation.findNavController(requireView())
                    .navigate(R.id.pantallaDetalleMeta, b);
        });

        // META COMPLETADA â†’ popup
        adaptador.setOnMetaCompletadaListener(meta -> mostrarPopupMetaCompleta(meta));

        // FAB â†’ agregar meta
        fabAgregar.setOnClickListener(v ->
                Navigation.findNavController(v).navigate(R.id.pantallaAgregarMeta));

        cargarMetas();

        return vista;
    }

    @Override
    public void onResume() {
        super.onResume();
        cargarMetas();
    }

    private void cargarMetas() {
        controlador.obtenerTodas(metas -> requireActivity().runOnUiThread(() -> {

            listaMetas.clear();
            if (metas != null) listaMetas.addAll(metas);

            adaptador.notifyDataSetChanged();
            actualizarResumen();
        }));
    }

    private void actualizarResumen() {

        double totalActual = 0;
        double totalObjetivo = 0;

        for (Meta m : listaMetas) {
            totalActual += m.getCantidadActual();
            totalObjetivo += m.getCantidadObjetivo();
        }

        txtResumenCantidad.setText(
                String.format("%.2f â‚¬ / %.2f â‚¬", totalActual, totalObjetivo)
        );
    }

    private void mostrarPopupMetaCompleta(Meta meta) {

        new AlertDialog.Builder(requireContext())
                .setTitle("ðŸŽ‰ Â¡Meta completada!")
                .setMessage("Enhorabuena, has conseguido tu objetivo \""
                        + meta.getNombre() + "\".\n\nÂ¡Sigue asÃ­ crack! ðŸ’ªðŸ”¥")
                .setPositiveButton("Aceptar", (d, w) -> {

                    // Opcional: eliminar meta automÃ¡ticamente
                    controlador.eliminar(meta, filas -> cargarMetas());
                })
                .setCancelable(true)
                .show();
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\movimientos\PantallaAgregarMovimiento.java ---

package com.example.healthywallet.ui.movimientos;

import android.app.DatePickerDialog;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.DatePicker;
import android.widget.EditText;
import android.widget.Spinner;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;

import com.example.healthywallet.R;
import com.example.healthywallet.controller.MovimientosControlador;
import com.example.healthywallet.database.entities.Movimiento;
import com.google.android.material.floatingactionbutton.FloatingActionButton;

import java.util.Calendar;

public class PantallaAgregarMovimiento extends Fragment {

    private EditText inputCantidad, inputFecha, inputDescripcion;
    private Spinner spinnerTipo, spinnerCategoria;
    private FloatingActionButton btnGuardar;

    private MovimientosControlador controlador;

    // ðŸ”¥ NUEVAS CATEGORÃAS
    private final String[] categoriasGasto = {
            "Comida", "Transporte", "EducaciÃ³n", "Ocio", "Hogar", "Salud", "Otros"
    };

    private final String[] categoriasIngreso = {
            "Trabajo", "Beca", "Regalo", "Venta", "Premio", "Extra", "Otros ingresos"
    };

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_agregar_movimiento, container, false);

        controlador = new MovimientosControlador(requireContext());

        // Referencias UI
        inputCantidad = vista.findViewById(R.id.inputCantidad);
        inputFecha = vista.findViewById(R.id.inputFecha);
        inputDescripcion = vista.findViewById(R.id.inputDescripcion);
        spinnerTipo = vista.findViewById(R.id.spinnerTipo);
        spinnerCategoria = vista.findViewById(R.id.spinnerCategoria);
        btnGuardar = vista.findViewById(R.id.btnGuardarMovimiento);

        configurarSpinners();
        configurarCambioCategorias();
        configurarSelectorFecha();
        configurarBotonGuardar();

        return vista;
    }

    // âœ” SPINNER TIPO (Ingreso / Gasto)
    private void configurarSpinners() {

        String[] tipos = {"Ingreso", "Gasto"};

        ArrayAdapter<String> adapterTipo = new ArrayAdapter<>(
                requireContext(),
                android.R.layout.simple_spinner_dropdown_item,
                tipos
        );

        spinnerTipo.setAdapter(adapterTipo);

        // Por defecto â†’ categorÃ­as de gasto
        ArrayAdapter<String> adapterCat = new ArrayAdapter<>(
                requireContext(),
                android.R.layout.simple_spinner_dropdown_item,
                categoriasGasto
        );
        spinnerCategoria.setAdapter(adapterCat);
    }


    // âœ” CAMBIO DINÃMICO DE CATEGORÃAS SEGÃšN EL TIPO
    private void configurarCambioCategorias() {

        spinnerTipo.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {

                String tipo = spinnerTipo.getSelectedItem().toString();

                ArrayAdapter<String> adapter;

                if (tipo.equals("Ingreso")) {
                    adapter = new ArrayAdapter<>(
                            requireContext(),
                            android.R.layout.simple_spinner_dropdown_item,
                            categoriasIngreso
                    );
                } else {
                    adapter = new ArrayAdapter<>(
                            requireContext(),
                            android.R.layout.simple_spinner_dropdown_item,
                            categoriasGasto
                    );
                }

                spinnerCategoria.setAdapter(adapter);
            }

            @Override
            public void onNothingSelected(AdapterView<?> parent) {}
        });
    }

    // âœ” SELECTOR DE FECHA
    private void configurarSelectorFecha() {
        inputFecha.setOnClickListener(v -> {

            Calendar calendar = Calendar.getInstance();
            int aÃ±o = calendar.get(Calendar.YEAR);
            int mes = calendar.get(Calendar.MONTH);
            int dia = calendar.get(Calendar.DAY_OF_MONTH);

            DatePickerDialog dialog = new DatePickerDialog(
                    requireContext(),
                    (DatePicker view, int year, int month, int dayOfMonth) -> {
                        String fecha = String.format("%02d/%02d/%04d",
                                dayOfMonth, month + 1, year);
                        inputFecha.setText(fecha);
                    },
                    aÃ±o, mes, dia
            );

            dialog.show();
        });
    }

    // âœ” GUARDAR MOVIMIENTO EN BD
    private void configurarBotonGuardar() {

        btnGuardar.setOnClickListener(v -> {

            String cantidadStr = inputCantidad.getText().toString().trim();
            String fecha = inputFecha.getText().toString().trim();
            String descripcion = inputDescripcion.getText().toString().trim();

            if (cantidadStr.isEmpty() || fecha.isEmpty()) {
                Toast.makeText(requireContext(),
                        "Rellena cantidad y fecha",
                        Toast.LENGTH_SHORT).show();
                return;
            }

            double cantidad;
            try {
                cantidad = Double.parseDouble(cantidadStr);
            } catch (Exception e) {
                Toast.makeText(requireContext(),
                        "Formato de cantidad invÃ¡lido",
                        Toast.LENGTH_SHORT).show();
                return;
            }

            String tipo = spinnerTipo.getSelectedItem().toString();
            String categoria = spinnerCategoria.getSelectedItem().toString();

            Movimiento mov = new Movimiento(
                    tipo,
                    categoria,
                    cantidad,
                    fecha,
                    descripcion
            );

            controlador.insertar(mov, id -> {

                requireActivity().runOnUiThread(() -> {

                    if (id > 0) {
                        Toast.makeText(requireContext(),
                                "Movimiento guardado",
                                Toast.LENGTH_SHORT).show();

                        // Volver a Movimientos
                        Navigation.findNavController(v)
                                .navigate(R.id.nav_movimientos);

                    } else {
                        Toast.makeText(requireContext(),
                                "Error al guardar",
                                Toast.LENGTH_SHORT).show();
                    }
                });
            });

        });
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\movimientos\PantallaMovimientos.java ---

package com.example.healthywallet.ui.movimientos;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.healthywallet.R;
import com.example.healthywallet.adapters.AdaptadorMovimientos;
import com.example.healthywallet.controller.MovimientosControlador;
import com.example.healthywallet.database.entities.Movimiento;
import com.google.android.material.floatingactionbutton.FloatingActionButton;

import java.util.Collections;
import java.util.List;

public class PantallaMovimientos extends Fragment {

    private RecyclerView recyclerView;
    private FloatingActionButton fabAgregarMovimiento;
    private TextView txtBalanceMensual;

    private MovimientosControlador movimientosControlador;
    private AdaptadorMovimientos adaptador;

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_movimientos, container, false);

        movimientosControlador = new MovimientosControlador(requireContext());

        recyclerView = vista.findViewById(R.id.recyclerMovimientos);
        fabAgregarMovimiento = vista.findViewById(R.id.fabAgregarMovimiento);

        // âœ” ESTE ES EL QUE EXISTE EN TU XML
        txtBalanceMensual = vista.findViewById(R.id.txtBalanceCantidad);

        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));

        fabAgregarMovimiento.setOnClickListener(v ->
                Navigation.findNavController(v).navigate(R.id.fragmentoAgregarMovimiento)
        );

        cargarLista();

        return vista;
    }

    @Override
    public void onResume() {
        super.onResume();
        cargarLista(); // refrescar al volver
    }

    private void cargarLista() {

        movimientosControlador.obtenerTodos(movimientos -> {

            requireActivity().runOnUiThread(() -> {

                List<Movimiento> listaSegura =
                        (movimientos != null) ? movimientos : Collections.emptyList();

                adaptador = new AdaptadorMovimientos(requireContext(), listaSegura);
                recyclerView.setAdapter(adaptador);

                actualizarBalance(listaSegura);
            });
        });
    }

    private void actualizarBalance(List<Movimiento> lista) {

        double total = 0;

        for (Movimiento mov : lista) {
            if (mov.getTipo().equals("Ingreso")) {
                total += mov.getCantidad();
            } else {
                total -= mov.getCantidad();
            }
        }

        txtBalanceMensual.setText(String.format("%.2f â‚¬", total));
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\presupuestos\PantallaAgregarPresupuesto.java ---

package com.example.healthywallet.ui.presupuestos;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Spinner;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;

import com.example.healthywallet.R;
import com.example.healthywallet.controller.PresupuestoControlador;
import com.example.healthywallet.database.entities.Presupuesto;

public class PantallaAgregarPresupuesto extends Fragment {

    private Spinner spinnerCategoria;
    private EditText inputLimite;
    private Button btnGuardar;

    private PresupuestoControlador controlador;

    public PantallaAgregarPresupuesto() { }

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_agregar_presupuesto, container, false);

        controlador = new PresupuestoControlador(requireContext());

        spinnerCategoria = vista.findViewById(R.id.spinnerCategoriaPresupuesto);
        inputLimite = vista.findViewById(R.id.inputLimite);
        btnGuardar = vista.findViewById(R.id.btnGuardarPresupuesto);

        configurarSpinner();
        configurarBotonGuardar(vista);

        return vista;
    }

    private void configurarSpinner() {
        String[] categorias = {"Comida", "Transporte", "EducaciÃ³n", "Ocio", "Hogar", "Otros"};

        ArrayAdapter<String> adapter = new ArrayAdapter<>(
                requireContext(),
                android.R.layout.simple_spinner_dropdown_item,
                categorias
        );

        spinnerCategoria.setAdapter(adapter);
    }

    private void configurarBotonGuardar(View vista) {
        btnGuardar.setOnClickListener(v -> {

            // ValidaciÃ³n bÃ¡sica
            String limiteStr = inputLimite.getText().toString().trim();
            if (limiteStr.isEmpty()) {
                Toast.makeText(requireContext(), "Introduce un lÃ­mite vÃ¡lido", Toast.LENGTH_SHORT).show();
                return;
            }

            double limite;
            try {
                limite = Double.parseDouble(limiteStr);
            } catch (Exception e) {
                Toast.makeText(requireContext(), "Formato de cantidad incorrecto", Toast.LENGTH_SHORT).show();
                return;
            }

            String categoria = spinnerCategoria.getSelectedItem().toString();

            // Crear presupuesto
            Presupuesto nuevo = new Presupuesto(categoria, limite, 0);

            controlador.insertar(nuevo, id -> {
                requireActivity().runOnUiThread(() -> {
                    Toast.makeText(requireContext(), "Presupuesto creado", Toast.LENGTH_SHORT).show();
                    Navigation.findNavController(vista).popBackStack();
                });
            });
        });
    }
}


--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\presupuestos\PantallaPresupuestos.java ---

package com.example.healthywallet.ui.presupuestos;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ProgressBar;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.navigation.Navigation;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.healthywallet.R;
import com.example.healthywallet.adapters.AdaptadorPresupuestos;
import com.example.healthywallet.controller.MovimientosControlador;
import com.example.healthywallet.controller.PresupuestoControlador;
import com.example.healthywallet.database.entities.Movimiento;
import com.example.healthywallet.database.entities.Presupuesto;
import com.google.android.material.floatingactionbutton.FloatingActionButton;

import java.util.ArrayList;
import java.util.List;

public class PantallaPresupuestos extends Fragment {

    private RecyclerView recycler;
    private AdaptadorPresupuestos adaptador;
    private FloatingActionButton fabAgregar;
    private TextView txtResumen;
    private ProgressBar barraProgreso;

    private final List<Presupuesto> lista = new ArrayList<>();

    private PresupuestoControlador controlador;

    public PantallaPresupuestos() {}

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater,
                             @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {

        View vista = inflater.inflate(R.layout.pantalla_presupuestos, container, false);

        controlador = new PresupuestoControlador(requireContext());

        recycler = vista.findViewById(R.id.recyclerPresupuestos);
        fabAgregar = vista.findViewById(R.id.fabAgregarPresupuesto);
        txtResumen = vista.findViewById(R.id.txtResumenPresupuesto);
        barraProgreso = vista.findViewById(R.id.progresoGeneralPresupuesto);

        recycler.setLayoutManager(new LinearLayoutManager(getContext()));
        adaptador = new AdaptadorPresupuestos(getContext(), lista);
        recycler.setAdapter(adaptador);

        fabAgregar.setOnClickListener(v ->
                Navigation.findNavController(v)
                        .navigate(R.id.action_presupuestos_to_agregarPresupuesto)
        );

        cargarPresupuestos();
        return vista;
    }

    @Override
    public void onResume() {
        super.onResume();
        cargarPresupuestos();
    }

    private void cargarPresupuestos() {
        controlador.obtenerTodos(presupuestos -> {
            requireActivity().runOnUiThread(() -> {

                lista.clear();
                if (presupuestos != null) lista.addAll(presupuestos);

                // Recalcular gastoActual segÃºn movimientos reales
                recalcularGastosPresupuestos();
            });
        });
    }

    private void recalcularGastosPresupuestos() {

        MovimientosControlador movControlador = new MovimientosControlador(requireContext());

        movControlador.obtenerTodos(movimientos -> {

            requireActivity().runOnUiThread(() -> {

                for (Presupuesto p : lista) {

                    double suma = 0;

                    for (Movimiento m : movimientos) {
                        if (m.getCategoria().equalsIgnoreCase(p.getCategoria())
                                && m.getTipo().equalsIgnoreCase("Gasto")) {

                            suma += m.getCantidad();
                        }
                    }

                    // Actualiza el gasto actual REAL basado en movimientos
                    p.setGastoActual(suma);

                    controlador.actualizar(p, filas -> {});
                }

                adaptador.notifyDataSetChanged();
                actualizarResumen();
            });
        });
    }

    private void actualizarResumen() {

        double totalLimite = 0;
        double totalGasto = 0;

        for (Presupuesto p : lista) {
            totalLimite += p.getLimite();
            totalGasto += p.getGastoActual();
        }

        txtResumen.setText(String.format("%.2f â‚¬ gastados de %.2f â‚¬", totalGasto, totalLimite));

        barraProgreso.setMax((int) totalLimite);
        barraProgreso.setProgress((int) totalGasto);
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\ui\MainActivity.java ---

package com.example.healthywallet.ui;

import androidx.appcompat.app.AppCompatActivity;
import androidx.navigation.NavController;
import androidx.navigation.fragment.NavHostFragment;
import androidx.navigation.ui.NavigationUI;

import android.os.Bundle;

import com.example.healthywallet.R;
import com.google.android.material.bottomnavigation.BottomNavigationView;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // 1. Obtiene el NavHostFragment
        NavHostFragment navHostFragment =
                (NavHostFragment) getSupportFragmentManager()
                        .findFragmentById(R.id.contenedorFragments);

        if (navHostFragment == null) {
            throw new IllegalStateException("El contenedor de navegaciÃ³n no estÃ¡ disponible en el layout");
        }

        NavController navController = navHostFragment.getNavController();

        // 2. Conecta el BottomNavigationView
        BottomNavigationView bottomNav = findViewById(R.id.bottomNavigation);
        NavigationUI.setupWithNavController(bottomNav, navController);
    }
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\utils\UtilidadesFecha.java ---

package com.example.healthywallet.utils;

public class UtilidadesFecha {
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\utils\UtilidadesMoneda.java ---

package com.example.healthywallet.utils;

public class UtilidadesMoneda {
}

--- FILE: C:\AndroidProjects\HealthyWallet\app\src\main\java\com\example\healthywallet\utils\Validaciones.java ---

package com.example.healthywallet.utils;

public class Validaciones {
}

===== LAYOUTS =====


--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\activity_main.xml ---

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- Contenedor de Fragments recomendado -->
    <androidx.fragment.app.FragmentContainerView
        android:id="@+id/contenedorFragments"
        android:name="androidx.navigation.fragment.NavHostFragment"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        app:defaultNavHost="true"
        app:navGraph="@navigation/nav_graph" />

    <!-- Bottom Navigation -->
    <com.google.android.material.bottomnavigation.BottomNavigationView
        android:id="@+id/bottomNavigation"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/nav_fondo"
        app:itemIconTint="@color/nav_selector"
        app:itemTextColor="@color/nav_selector"
        app:labelVisibilityMode="labeled"
        app:menu="@menu/bottom_nav_menu" />

</LinearLayout>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\item_categoria.xml ---

<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:card="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="12dp"
    card:cardCornerRadius="14dp"
    card:cardElevation="5dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <TextView
            android:id="@+id/txtNombreCategoria"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Nombre categorÃ­a"
            android:textSize="18sp"
            android:textStyle="bold"/>

        <TextView
            android:id="@+id/txtDescripcionCategoria"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="DescripciÃ³n"
            android:layout_marginTop="4dp"
            android:textSize="15sp"/>

    </LinearLayout>

</androidx.cardview.widget.CardView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\item_formacion.xml ---

<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:card="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="12dp"
    card:cardCornerRadius="14dp"
    card:cardElevation="5dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <TextView
            android:id="@+id/txtTituloFormacion"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="TÃ­tulo"
            android:textSize="18sp"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/txtNivelFormacion"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Nivel"
            android:layout_marginTop="4dp"
            android:textSize="15sp" />

        <TextView
            android:id="@+id/txtDescripcionFormacion"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="DescripciÃ³n"
            android:layout_marginTop="6dp"
            android:textSize="14sp" />

    </LinearLayout>

</androidx.cardview.widget.CardView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\item_meta.xml ---

<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/cardViewMeta"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginVertical="10dp"
    android:layout_marginHorizontal="4dp"
    app:cardCornerRadius="16dp"
    app:cardElevation="5dp"
    android:backgroundTint="#FFFFFF">

    <LinearLayout
        android:orientation="vertical"
        android:padding="18dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <!-- NOMBRE Y PORCENTAJE -->
        <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical">

            <!-- Nombre -->
            <TextView
                android:id="@+id/txtNombreMeta"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Nombre Meta"
                android:textSize="20sp"
                android:textStyle="bold"
                android:textColor="#333333"/>

            <!-- Porcentaje -->
            <TextView
                android:id="@+id/txtPorcentajeMeta"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="40%"
                android:textSize="18sp"
                android:textStyle="bold"
                android:textColor="#4CAF50"/>
        </LinearLayout>

        <!-- Cantidades -->
        <TextView
            android:id="@+id/txtCantidadesMeta"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="400 â‚¬ / 1000 â‚¬"
            android:textSize="14sp"
            android:textColor="#777777"
            android:layout_marginTop="6dp"/>

        <!-- Barra de progreso -->
        <ProgressBar
            android:id="@+id/barraProgresoMeta"
            style="@android:style/Widget.ProgressBar.Horizontal"
            android:layout_width="match_parent"
            android:layout_height="10dp"
            android:progress="40"
            android:max="100"
            android:progressDrawable="@drawable/progress_meta_estilo"
            android:layout_marginTop="12dp"/>

        <!-- Fecha objetivo -->
        <TextView
            android:id="@+id/txtFechaMeta"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Fecha objetivo: 12/07/2025"
            android:textSize="13sp"
            android:textColor="#999999"
            android:layout_marginTop="10dp"/>
    </LinearLayout>

</androidx.cardview.widget.CardView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\item_movimiento.xml ---

<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:card="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="12dp"
    card:cardCornerRadius="14dp"
    card:cardElevation="5dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <TextView
            android:id="@+id/txtTipoMovimiento"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Ingreso"
            android:textSize="18sp"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/txtCategoriaMovimiento"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="CategorÃ­a"
            android:layout_marginTop="4dp"
            android:textSize="16sp" />

        <TextView
            android:id="@+id/txtCantidadMovimiento"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="0 â‚¬"
            android:layout_marginTop="4dp"
            android:textSize="16sp" />

        <TextView
            android:id="@+id/txtFechaMovimiento"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="01/01/2025"
            android:layout_marginTop="4dp"
            android:textSize="14sp" />

    </LinearLayout>

</androidx.cardview.widget.CardView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\item_presupuesto.xml ---

<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:card="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="12dp"
    card:cardCornerRadius="14dp"
    card:cardElevation="5dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <TextView
            android:id="@+id/txtCategoriaPresupuesto"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="CategorÃ­a"
            android:textSize="18sp"
            android:textStyle="bold"/>

        <TextView
            android:id="@+id/txtLimitePresupuesto"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="LÃ­mite: 0 â‚¬"
            android:layout_marginTop="4dp"
            android:textSize="16sp"/>

        <TextView
            android:id="@+id/txtGastoActualPresupuesto"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Gastado: 0 â‚¬"
            android:layout_marginTop="4dp"
            android:textSize="16sp"/>

    </LinearLayout>

</androidx.cardview.widget.CardView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_agregar_ahorro.xml ---

<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F5F5">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="22dp">

        <!-- HEADER -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:orientation="horizontal">

            <ImageView
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/ic_metas"
                app:tint="#4CAF50" />

            <TextView
                android:id="@+id/txtTituloAhorro"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="AÃ±adir ahorro"
                android:textSize="26sp"
                android:textStyle="bold"
                android:textColor="#333333"
                android:layout_marginStart="12dp"/>
        </LinearLayout>

        <!-- TARJETA META -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:backgroundTint="#FFFFFF"
            android:layout_marginTop="24dp"
            app:cardElevation="5dp"
            app:cardCornerRadius="18dp">

            <LinearLayout
                android:padding="20dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <TextView
                    android:id="@+id/txtNombreMetaAhorro"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Nombre meta"
                    android:textColor="#333333"
                    android:textSize="20sp"
                    android:textStyle="bold"/>

                <TextView
                    android:id="@+id/txtResumenAhorro"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="400 â‚¬ / 1000 â‚¬"
                    android:textColor="#777777"
                    android:textSize="16sp"
                    android:layout_marginTop="6dp"/>

                <ProgressBar
                    android:id="@+id/barraMetaAhorro"
                    style="@android:style/Widget.ProgressBar.Horizontal"
                    android:layout_width="match_parent"
                    android:layout_height="10dp"
                    android:progress="40"
                    android:max="100"
                    android:progressDrawable="@drawable/progress_meta_estilo"
                    android:layout_marginTop="12dp"/>

            </LinearLayout>
        </androidx.cardview.widget.CardView>


        <!-- TARJETA FORMULARIO -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:backgroundTint="#FFFFFF"
            android:layout_marginTop="20dp"
            app:cardElevation="5dp"
            app:cardCornerRadius="18dp">

            <LinearLayout
                android:padding="20dp"
                android:orientation="vertical"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:text="Cantidad a aÃ±adir (â‚¬)"
                    android:textSize="14sp"
                    android:textColor="#666666"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content" />

                <EditText
                    android:id="@+id/inputCantidadAhorro"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="Ej: 50"
                    android:inputType="numberDecimal"
                    android:padding="14dp"
                    android:textSize="18sp" />
            </LinearLayout>

        </androidx.cardview.widget.CardView>


        <!-- BOTÃ“N GUARDAR -->
        <com.google.android.material.floatingactionbutton.FloatingActionButton
            android:id="@+id/btnGuardarAhorro"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="end"
            android:layout_marginTop="28dp"
            android:src="@drawable/ic_check"
            android:contentDescription="Guardar"
            app:tint="#FFFFFF"
            android:backgroundTint="#4CAF50"/>

    </LinearLayout>

</ScrollView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_agregar_meta.xml ---

<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F5F5">

    <LinearLayout
        android:orientation="vertical"
        android:padding="22dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <!-- HEADER -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <ImageView
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/ic_metas"
                app:tint="#4CAF50"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Nueva Meta"
                android:textColor="#333333"
                android:textStyle="bold"
                android:textSize="26sp"
                android:layout_marginStart="12dp"/>
        </LinearLayout>


        <!-- TARJETA FORMULARIO -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="24dp"
            android:backgroundTint="#FFFFFF"
            app:cardCornerRadius="18dp"
            app:cardElevation="6dp">

            <LinearLayout
                android:padding="22dp"
                android:orientation="vertical"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <!-- Nombre -->
                <TextView
                    android:text="Nombre de la meta"
                    android:textColor="#666666"
                    android:textSize="14sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content" />

                <EditText
                    android:id="@+id/inputNombreMeta"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="Ej: Ahorro para coche"
                    android:padding="12dp"
                    android:textSize="18sp"
                    android:layout_marginBottom="16dp"/>


                <!-- Cantidad objetivo -->
                <TextView
                    android:text="Cantidad objetivo (â‚¬)"
                    android:textColor="#666666"
                    android:textSize="14sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content" />

                <EditText
                    android:id="@+id/inputCantidadObjetivo"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:inputType="numberDecimal"
                    android:padding="12dp"
                    android:textSize="18sp"
                    android:hint="Ej: 1000"
                    android:layout_marginBottom="16dp"/>


                <!-- Cantidad inicial -->
                <TextView
                    android:text="Cantidad actual (â‚¬)"
                    android:textSize="14sp"
                    android:textColor="#666666"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <EditText
                    android:id="@+id/inputCantidadActual"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:inputType="numberDecimal"
                    android:padding="12dp"
                    android:textSize="18sp"
                    android:hint="Ej: 0"
                    android:layout_marginBottom="16dp"/>


                <!-- Fecha objetivo -->
                <TextView
                    android:text="Fecha objetivo"
                    android:textColor="#666666"
                    android:textSize="14sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content" />

                <EditText
                    android:id="@+id/inputFechaObjetivo"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:focusable="false"
                    android:padding="12dp"
                    android:textSize="18sp"
                    android:hint="Seleccionar fecha"
                    android:layout_marginBottom="16dp"/>

            </LinearLayout>

        </androidx.cardview.widget.CardView>


        <!-- BOTÃ“N GUARDAR -->
        <com.google.android.material.floatingactionbutton.FloatingActionButton
            android:id="@+id/btnGuardarMeta"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="end"
            android:layout_marginTop="28dp"
            android:src="@drawable/ic_check"
            app:tint="#FFFFFF"
            android:backgroundTint="#4CAF50" />

    </LinearLayout>

</ScrollView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_agregar_movimiento.xml ---

<?xml version="1.0" encoding="utf-8"?>
<ScrollView
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F3F3F3">

    <LinearLayout
        android:orientation="vertical"
        android:padding="20dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <!-- HEADER -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:orientation="horizontal">

            <ImageView
                android:layout_width="28dp"
                android:layout_height="28dp"
                android:src="@drawable/ic_mas"
                app:tint="#4CAF50"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="AÃ±adir Movimiento"
                android:textSize="24sp"
                android:textStyle="bold"
                android:textColor="#333333"
                android:layout_marginStart="12dp"/>
        </LinearLayout>


        <!-- TARJETA DEL FORMULARIO -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:backgroundTint="#FFFFFF"
            app:cardElevation="5dp"
            app:cardCornerRadius="14dp">

            <LinearLayout
                android:orientation="vertical"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:padding="18dp">

                <!-- CANTIDAD -->
                <TextView
                    android:text="Cantidad (â‚¬)"
                    android:textColor="#666666"
                    android:textSize="14sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <EditText
                    android:id="@+id/inputCantidad"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:minHeight="48dp"
                    android:inputType="numberDecimal"
                    android:padding="8dp"
                    android:textSize="18sp"
                    android:hint="0.00"
                    android:layout_marginBottom="16dp"/>


                <!-- TIPO DE MOVIMIENTO -->
                <TextView
                    android:text="Tipo"
                    android:textColor="#666666"
                    android:textSize="14sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <Spinner
                    android:id="@+id/spinnerTipo"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:minHeight="48dp"
                    android:paddingVertical="12dp"
                    android:layout_marginBottom="16dp"/>


                <!-- CATEGORÃA -->
                <TextView
                    android:text="CategorÃ­a"
                    android:textColor="#666666"
                    android:textSize="14sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <Spinner
                    android:id="@+id/spinnerCategoria"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:minHeight="48dp"
                    android:paddingVertical="12dp"
                    android:layout_marginBottom="16dp"/>


                <!-- FECHA -->
                <TextView
                    android:text="Fecha"
                    android:textColor="#666666"
                    android:textSize="14sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <EditText
                    android:id="@+id/inputFecha"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:minHeight="48dp"
                    android:inputType="date"
                    android:focusable="false"
                    android:padding="8dp"
                    android:hint="Seleccionar fecha"
                    android:layout_marginBottom="16dp"/>


                <!-- DESCRIPCIÃ“N -->
                <TextView
                    android:text="DescripciÃ³n"
                    android:textColor="#666666"
                    android:textSize="14sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <EditText
                    android:id="@+id/inputDescripcion"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:minLines="2"
                    android:minHeight="48dp"
                    android:gravity="top"
                    android:inputType="textMultiLine"
                    android:padding="8dp"
                    android:hint="AÃ±ade una nota opcional"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>


        <!-- BOTÃ“N GUARDAR -->
        <com.google.android.material.floatingactionbutton.FloatingActionButton
            android:id="@+id/btnGuardarMovimiento"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="30dp"
            android:layout_gravity="end"
            android:contentDescription="Guardar movimiento"
            android:src="@drawable/ic_check"
            app:tint="#FFFFFF"
            app:backgroundTint="#4CAF50"/>

    </LinearLayout>

</ScrollView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_agregar_presupuesto.xml ---

<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="20dp"
    android:background="#FFFFFF">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <!-- TÃ­tulo -->
        <TextView
            android:id="@+id/txtTituloAgregarPresupuesto"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Crear Presupuesto"
            android:textSize="22sp"
            android:textStyle="bold"
            android:layout_marginBottom="20dp"
            android:textColor="#000000" />

        <!-- CategorÃ­a -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="CategorÃ­a"
            android:textSize="15sp"
            android:layout_marginBottom="6dp"
            android:textColor="#000000" />

        <Spinner
            android:id="@+id/spinnerCategoriaPresupuesto"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="8dp"
            android:layout_marginBottom="20dp" />

        <!-- LÃ­mite -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="LÃ­mite (â‚¬)"
            android:textSize="15sp"
            android:layout_marginBottom="6dp"
            android:textColor="#000000" />

        <EditText
            android:id="@+id/inputLimite"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="Ej: 150.00"
            android:inputType="numberDecimal"
            android:padding="12dp"
            android:layout_marginBottom="30dp" />

        <!-- BotÃ³n Guardar -->
        <Button
            android:id="@+id/btnGuardarPresupuesto"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Guardar"
            android:textAllCaps="false"
            android:textSize="16sp"
            android:padding="12dp" />

    </LinearLayout>
</ScrollView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_ajustes.xml ---

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

</LinearLayout>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_balance_general.xml ---

<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F3F3F3">

    <LinearLayout
        android:orientation="vertical"
        android:padding="20dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <!-- TÃTULO -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Balance del mes"
            android:textSize="26sp"
            android:textStyle="bold"
            android:textColor="#333333" />

        <!-- BALANCE GENERAL -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="16dp"
            android:backgroundTint="#FFFFFF"
            android:elevation="5dp"
            android:padding="18dp">

            <LinearLayout
                android:orientation="vertical"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:id="@+id/txtBalanceMes"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0 â‚¬"
                    android:textColor="#4CAF50"
                    android:textSize="24sp"
                    android:textStyle="bold"/>

                <TextView
                    android:id="@+id/txtIngresosGastosMes"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="+0 ingresos | -0 gastos"
                    android:textColor="#888888"
                    android:textSize="14sp"
                    android:layout_marginTop="4dp"/>

            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- AHORRO -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Ahorro del mes"
            android:textStyle="bold"
            android:textColor="#333333"
            android:layout_marginTop="24dp"/>

        <ProgressBar
            android:id="@+id/barraAhorroMes"
            style="?android:attr/progressBarStyleHorizontal"
            android:layout_width="match_parent"
            android:layout_height="12dp"
            android:max="100"
            android:layout_marginTop="8dp"/>

        <!-- PRESUPUESTOS -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Presupuestos del mes"
            android:textStyle="bold"
            android:textColor="#333333"
            android:layout_marginTop="24dp"/>

        <ProgressBar
            android:id="@+id/barraPresupuestoMes"
            style="?android:attr/progressBarStyleHorizontal"
            android:layout_width="match_parent"
            android:layout_height="12dp"
            android:max="100"
            android:layout_marginTop="8dp"/>

        <!-- METAS -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Metas"
            android:textStyle="bold"
            android:textColor="#333333"
            android:layout_marginTop="24dp"/>

        <ProgressBar
            android:id="@+id/barraMetas"
            style="?android:attr/progressBarStyleHorizontal"
            android:layout_width="match_parent"
            android:layout_height="12dp"
            android:max="100"
            android:layout_marginTop="8dp"/>

        <!-- CATEGORÃAS -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Gastos por categorÃ­a"
            android:textStyle="bold"
            android:textColor="#333333"
            android:layout_marginTop="24dp"/>

        <LinearLayout
            android:id="@+id/layoutCategorias"
            android:orientation="vertical"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="10dp"/>

    </LinearLayout>
</ScrollView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_detalle_meta.xml ---

<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F3F3F3">

    <LinearLayout
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="20dp">

        <!-- TITULO -->
        <TextView
            android:id="@+id/txtTituloMeta"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Nombre Meta"
            android:textSize="28sp"
            android:textColor="#333333"
            android:textStyle="bold"
            android:layout_marginBottom="10dp"/>

        <!-- TARJETA PRINCIPAL -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:backgroundTint="#FFFFFF"
            app:cardCornerRadius="16dp"
            app:cardElevation="5dp"
            android:layout_marginBottom="20dp">

            <LinearLayout
                android:orientation="vertical"
                android:padding="18dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <!-- Cantidades -->
                <TextView
                    android:id="@+id/txtCantidadesDetalle"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="400 â‚¬ / 1000 â‚¬"
                    android:textSize="20sp"
                    android:textStyle="bold"
                    android:textColor="#4CAF50"
                    android:layout_marginBottom="10dp"/>

                <!-- Porcentaje -->
                <TextView
                    android:id="@+id/txtPorcentajeDetalle"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="40%"
                    android:textSize="24sp"
                    android:textStyle="bold"
                    android:textColor="#333333"
                    android:layout_marginBottom="10dp"/>

                <!-- Barra de progreso -->
                <ProgressBar
                    android:id="@+id/barraDetalleMeta"
                    style="@android:style/Widget.ProgressBar.Horizontal"
                    android:layout_width="match_parent"
                    android:layout_height="12dp"
                    android:max="100"
                    android:progress="40"
                    android:progressDrawable="@drawable/progress_meta_estilo"
                    android:layout_marginBottom="15dp"/>

                <!-- Fecha lÃ­mite -->
                <TextView
                    android:id="@+id/txtFechaDetalle"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Fecha objetivo: 12/11/2025"
                    android:textSize="16sp"
                    android:textColor="#666666"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- BOTÃ“N AGREGAR AHORRO -->
        <Button
            android:id="@+id/btnAgregarAhorro"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Agregar ahorro"
            android:textSize="18sp"
            android:layout_marginBottom="15dp"
            android:padding="12dp"
            android:backgroundTint="#4CAF50"
            android:textColor="#FFFFFF"
            app:cornerRadius="8dp"/>

        <!-- BOTÃ“N ELIMINAR META -->
        <Button
            android:id="@+id/btnEliminarMeta"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Eliminar meta"
            android:textSize="18sp"
            android:padding="12dp"
            android:backgroundTint="#E53935"
            android:textColor="#FFFFFF"
            app:cornerRadius="8dp"/>
    </LinearLayout>
</ScrollView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_educacion.xml ---

<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F3F3F3">

    <LinearLayout
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="20dp">

        <!-- TÃTULO PRINCIPAL -->
        <TextView
            android:id="@+id/txtTituloEducacion"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="EducaciÃ³n Financiera"
            android:textColor="#333333"
            android:textSize="26sp"
            android:textStyle="bold"
            android:layout_marginBottom="20dp"/>

        <!-- ===================================== -->
        <!--               VIDEOS                  -->
        <!-- ===================================== -->

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="ðŸ“¹ VÃ­deos Recomendados"
            android:textColor="#4CAF50"
            android:textStyle="bold"
            android:textSize="18sp"
            android:layout_marginBottom="12dp" />

        <!-- VIDEO 1 -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardVideo1"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="3dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="El ÃšNICO Curso de InversiÃ³n Que DeberÃ­as Ver"
                    android:textStyle="bold"
                    android:textColor="#222"
                    android:textSize="16sp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="https://youtu.be/ujY0DkyL--w?si=bOuKABNajrNIy-iT"
                    android:textColor="#4CAF50"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- VIDEO 2 -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardVideo2"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="3dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Curso Completo de InversiÃ³n â€“ La Pizarra de AndrÃ©s"
                    android:textStyle="bold"
                    android:textColor="#222"
                    android:textSize="16sp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="https://youtu.be/bkYK-akFam4?si=zZ1Oug3rfNqxzNex"
                    android:textColor="#4CAF50"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- ===================================== -->
        <!--               LIBROS                  -->
        <!-- ===================================== -->

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="ðŸ“˜ Libros Recomendados"
            android:textColor="#4CAF50"
            android:textStyle="bold"
            android:textSize="18sp"
            android:layout_marginBottom="12dp" />

        <!-- LIBRO 1 -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardLibro1"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="3dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Padre Rico Padre Pobre â€“ Robert Kiyosaki"
                    android:textStyle="bold"
                    android:textColor="#222"
                    android:textSize="16sp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="https://amzn.to/3EMYabc"
                    android:textColor="#4CAF50"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- ===================================== -->
        <!--             HERRAMIENTAS              -->
        <!-- ===================================== -->

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="ðŸ› ï¸ Herramientas Ãštiles"
            android:textColor="#4CAF50"
            android:textStyle="bold"
            android:textSize="18sp"
            android:layout_marginBottom="12dp" />

        <!-- TOOL 1 -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardTool1"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="3dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Investing â€” Noticias y seguimiento"
                    android:textStyle="bold"
                    android:textColor="#222"
                    android:textSize="16sp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="https://es.investing.com/"
                    android:textColor="#4CAF50"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- TOOL 2 -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardTool2"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="3dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="TradingView â€” GrÃ¡ficos profesionales"
                    android:textStyle="bold"
                    android:textColor="#222"
                    android:textSize="16sp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="https://www.tradingview.com/"
                    android:textColor="#4CAF50"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- TOOL 3 -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardTool3"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="40dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="3dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="MoneyChimp â€” Calculadora de Rentabilidad"
                    android:textStyle="bold"
                    android:textColor="#222"
                    android:textSize="16sp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="http://www.moneychimp.com/"
                    android:textColor="#4CAF50"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>

        </androidx.cardview.widget.CardView>

    </LinearLayout>

</ScrollView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_inicio.xml ---

<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F3F3F3">

    <LinearLayout
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="20dp">

        <!-- HEADER -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <ImageView
                android:layout_width="30dp"
                android:layout_height="30dp"
                android:src="@drawable/ic_home"
                app:tint="#4CAF50"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Inicio"
                android:textStyle="bold"
                android:textColor="#333333"
                android:textSize="26sp"
                android:layout_marginStart="12dp"/>
        </LinearLayout>


        <!-- TARJETA: BALANCE TOTAL (click â†’ balance general) -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardBalanceGeneral"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="18dp"
            android:backgroundTint="#FFFFFF"
            android:foreground="?attr/selectableItemBackground"
            app:cardCornerRadius="14dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:orientation="vertical"
                android:padding="18dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:id="@+id/txtBalanceTituloInicio"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Balance total"
                    android:textColor="#888888"
                    android:textSize="16sp"/>

                <TextView
                    android:id="@+id/txtBalanceCantidadInicio"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0,00 â‚¬"
                    android:textColor="#4CAF50"
                    android:textStyle="bold"
                    android:textSize="24sp"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>


        <!-- TARJETA PRESUPUESTOS -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardPresupuestos"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:backgroundTint="#FFFFFF"
            android:foreground="?attr/selectableItemBackground"
            app:cardCornerRadius="14dp"
            app:cardElevation="3dp">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Presupuestos"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="#333333"/>

                <TextView
                    android:id="@+id/txtResumenPresupuestosInicio"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0 â‚¬ gastados / 0 â‚¬"
                    android:textColor="#777777"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>


        <!-- TARJETA MOVIMIENTOS -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardMovimientos"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:backgroundTint="#FFFFFF"
            android:foreground="?attr/selectableItemBackground"
            app:cardCornerRadius="14dp"
            app:cardElevation="3dp">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Movimientos"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="#333333"/>

                <TextView
                    android:id="@+id/txtResumenMovimientosInicio"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="+0 ingresos | -0 gastos"
                    android:textColor="#777777"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>


        <!-- TARJETA METAS -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardMetas"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:backgroundTint="#FFFFFF"
            android:foreground="?attr/selectableItemBackground"
            app:cardCornerRadius="14dp"
            app:cardElevation="3dp">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Metas"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="#333333"/>

                <TextView
                    android:id="@+id/txtResumenMetasInicio"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0 activas | 0 completadas"
                    android:textColor="#777777"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>


        <!-- TARJETA EDUCACIÃ“N -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardEducacion"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:backgroundTint="#FFFFFF"
            android:foreground="?attr/selectableItemBackground"
            app:cardCornerRadius="14dp"
            app:cardElevation="3dp">

            <LinearLayout
                android:orientation="vertical"
                android:padding="16dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="EducaciÃ³n financiera"
                    android:textColor="#333333"
                    android:textSize="18sp"
                    android:textStyle="bold"/>

                <TextView
                    android:id="@+id/txtResumenEducacionInicio"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0 mÃ³dulos registrados"
                    android:textColor="#777777"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>

    </LinearLayout>
</ScrollView>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_metas.xml ---

<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F5F5">

    <!-- CONTENEDOR PRINCIPAL -->
    <LinearLayout
        android:orientation="vertical"
        android:padding="22dp"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <!-- HEADER -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:orientation="horizontal">

            <ImageView
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/ic_metas"
                app:tint="#4CAF50"/>

            <TextView
                android:id="@+id/tituloMetas"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Metas"
                android:textSize="28sp"
                android:textStyle="bold"
                android:textColor="#222222"
                android:layout_marginStart="12dp"/>
        </LinearLayout>


        <!-- TARJETA RESUMEN -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            app:cardElevation="6dp"
            app:cardCornerRadius="18dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="20dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:id="@+id/txtResumenTitulo"
                    android:text="Progreso general"
                    android:textSize="15sp"
                    android:textColor="#777777"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <TextView
                    android:id="@+id/txtResumenCantidad"
                    android:text="0 â‚¬ / 0 â‚¬"
                    android:textSize="24sp"
                    android:textStyle="bold"
                    android:textColor="#4CAF50"
                    android:layout_marginTop="6dp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

            </LinearLayout>

        </androidx.cardview.widget.CardView>


        <!-- LISTA DE METAS -->
        <androidx.recyclerview.widget.RecyclerView
            android:id="@+id/recyclerMetas"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:layout_marginTop="24dp"/>

    </LinearLayout>


    <!-- BOTÃ“N FLOTANTE AÃ‘ADIR -->
    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fabAgregarMeta"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/ic_add"
        android:contentDescription="AÃ±adir meta"
        app:tint="#FFFFFF"
        android:backgroundTint="#4CAF50"
        android:layout_margin="22dp"
        android:layout_gravity="bottom|end"
        app:elevation="8dp"/>

</androidx.coordinatorlayout.widget.CoordinatorLayout>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_movimientos.xml ---

<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F3F3F3">

    <!-- CONTENIDO PRINCIPAL -->
    <LinearLayout
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="20dp">

        <!-- HEADER -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <ImageView
                android:layout_width="28dp"
                android:layout_height="35dp"
                android:src="@drawable/ic_movimientos"
                app:tint="#4CAF50" />

            <TextView
                android:id="@+id/tituloMovimientos"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Movimientos"
                android:textSize="26sp"
                android:textStyle="bold"
                android:textColor="#333333"
                android:layout_marginStart="12dp"/>
        </LinearLayout>

        <!-- TARJETA BALANCE -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="18dp"
            app:cardCornerRadius="14dp"
            app:cardElevation="4dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="18dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:id="@+id/txtBalanceTitulo"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Balance del mes"
                    android:textColor="#888888"
                    android:textSize="16sp"/>

                <TextView
                    android:id="@+id/txtBalanceCantidad"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0,00 â‚¬"
                    android:textColor="#4CAF50"
                    android:textStyle="bold"
                    android:textSize="24sp"
                    android:layout_marginTop="6dp"/>
            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- LISTA MOVIMIENTOS -->
        <androidx.recyclerview.widget.RecyclerView
            android:id="@+id/recyclerMovimientos"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:layout_marginTop="20dp"/>

    </LinearLayout>

    <!-- FAB flotante -->
    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fabAgregarMovimiento"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="20dp"
        android:contentDescription="Agregar movimiento"
        android:src="@drawable/ic_add"
        app:tint="#FFFFFF"
        android:backgroundTint="#4CAF50"
        app:layout_anchorGravity="bottom|end"
        android:layout_gravity="bottom|end"/>

</androidx.coordinatorlayout.widget.CoordinatorLayout>

--- LAYOUT: C:\AndroidProjects\HealthyWallet\app\src\main\res\layout\pantalla_presupuestos.xml ---

<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F3F3F3">

    <LinearLayout
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="20dp">

        <!-- HEADER -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <ImageView
                android:layout_width="28dp"
                android:layout_height="28dp"
                android:src="@drawable/ic_presupuesto"
                app:tint="#4CAF50"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Presupuestos"
                android:textColor="#333333"
                android:textSize="26sp"
                android:textStyle="bold"
                android:layout_marginStart="12dp"/>
        </LinearLayout>

        <!-- TARJETA RESUMEN -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="18dp"
            app:cardCornerRadius="14dp"
            app:cardElevation="4dp"
            android:backgroundTint="#FFFFFF">

            <LinearLayout
                android:orientation="vertical"
                android:padding="18dp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <TextView
                    android:text="Presupuesto total mensual"
                    android:textColor="#888888"
                    android:textSize="16sp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <TextView
                    android:id="@+id/txtResumenPresupuesto"
                    android:text="0 â‚¬ gastados de 0 â‚¬"
                    android:textColor="#333333"
                    android:textStyle="bold"
                    android:textSize="20sp"
                    android:layout_marginTop="4dp"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

                <!-- Barra de progreso largo -->
                <ProgressBar
                    android:id="@+id/progresoGeneralPresupuesto"
                    style="@style/PresupuestoProgressBar"
                    android:layout_width="match_parent"
                    android:layout_height="14dp"
                    android:layout_marginTop="12dp"/>
            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- LISTA DE PRESUPUESTOS -->
        <androidx.recyclerview.widget.RecyclerView
            android:id="@+id/recyclerPresupuestos"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_marginTop="20dp"
            android:layout_weight="1"/>

    </LinearLayout>

    <!-- FAB -->
    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fabAgregarPresupuesto"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="20dp"
        android:src="@drawable/ic_add"
        app:tint="#FFFFFF"
        app:backgroundTint="#4CAF50"
        android:layout_gravity="end|bottom"/>

</androidx.coordinatorlayout.widget.CoordinatorLayout>

===== MENU =====


--- MENU: C:\AndroidProjects\HealthyWallet\app\src\main\res\menu\bottom_nav_menu.xml ---

<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">

    <item
        android:id="@+id/nav_inicio"
        android:icon="@drawable/ic_home"
        android:title="Inicio" />

    <item
        android:id="@+id/nav_movimientos"
        android:icon="@drawable/ic_movimientos"
        android:title="Movimientos" />

    <item
        android:id="@+id/nav_presupuestos"
        android:icon="@drawable/ic_presupuesto"
        android:title="Presupuestos" />

    <item
        android:id="@+id/nav_metas"
        android:icon="@drawable/ic_metas"
        android:title="Metas" />

    <item
        android:id="@+id/nav_educacion"
        android:icon="@drawable/ic_educacion"
        android:title="EducaciÃ³n" />

</menu>

===== NAVIGATION =====


--- NAV: C:\AndroidProjects\HealthyWallet\app\src\main\res\navigation\nav_graph.xml ---

<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    app:startDestination="@id/nav_inicio">

    <!-- INICIO -->
    <fragment
        android:id="@+id/nav_inicio"
        android:name="com.example.healthywallet.ui.inicio.PantallaInicio"
        android:label="Inicio"
        tools:layout="@layout/pantalla_inicio" />

    <!-- MOVIMIENTOS -->
    <fragment
        android:id="@+id/nav_movimientos"
        android:name="com.example.healthywallet.ui.movimientos.PantallaMovimientos"
        android:label="Movimientos"
        tools:layout="@layout/pantalla_movimientos" >

        <action
            android:id="@+id/action_movimientos_to_agregarMovimiento"
            app:destination="@id/fragmentoAgregarMovimiento" />
    </fragment>

    <!-- AGREGAR MOVIMIENTO -->
    <fragment
        android:id="@+id/fragmentoAgregarMovimiento"
        android:name="com.example.healthywallet.ui.movimientos.PantallaAgregarMovimiento"
        android:label="Agregar movimiento"
        tools:layout="@layout/pantalla_agregar_movimiento" />

    <!-- PRESUPUESTOS -->
    <fragment
        android:id="@+id/nav_presupuestos"
        android:name="com.example.healthywallet.ui.presupuestos.PantallaPresupuestos"
        android:label="Presupuestos"
        tools:layout="@layout/pantalla_presupuestos">

        <action
            android:id="@+id/action_presupuestos_to_agregarPresupuesto"
            app:destination="@id/pantallaAgregarPresupuesto" />
    </fragment>

    <!-- AGREGAR PRESUPUESTO -->
    <fragment
        android:id="@+id/pantallaAgregarPresupuesto"
        android:name="com.example.healthywallet.ui.presupuestos.PantallaAgregarPresupuesto"
        android:label="Agregar Presupuesto"
        tools:layout="@layout/pantalla_agregar_presupuesto" />

    <!-- METAS -->
    <fragment
        android:id="@+id/nav_metas"
        android:name="com.example.healthywallet.ui.metas.PantallaMetas"
        android:label="Metas"
        tools:layout="@layout/pantalla_metas">

        <!-- AcciÃ³n â†’ Detalle -->
        <action
            android:id="@+id/action_metas_to_detalleMeta"
            app:destination="@id/pantallaDetalleMeta" />

        <!-- AcciÃ³n â†’ Agregar Meta -->
        <action
            android:id="@+id/action_metas_to_agregarMeta"
            app:destination="@id/pantallaAgregarMeta" />
    </fragment>

    <!-- DETALLE META -->
    <fragment
        android:id="@+id/pantallaDetalleMeta"
        android:name="com.example.healthywallet.ui.metas.PantallaDetalleMeta"
        android:label="Detalle Meta"
        tools:layout="@layout/pantalla_detalle_meta">

        <!-- Desde detalle â†’ agregar ahorro -->
        <action
            android:id="@+id/action_detalle_to_agregarAhorro"
            app:destination="@id/pantallaAgregarAhorro" />
    </fragment>

    <!-- AGREGAR META -->
    <fragment
        android:id="@+id/pantallaAgregarMeta"
        android:name="com.example.healthywallet.ui.metas.PantallaAgregarMeta"
        android:label="Agregar Meta"
        tools:layout="@layout/pantalla_agregar_meta" />

    <!-- AGREGAR AHORRO A META -->
    <fragment
        android:id="@+id/pantallaAgregarAhorro"
        android:name="com.example.healthywallet.ui.metas.PantallaAgregarAhorro"
        android:label="Agregar Ahorro"
        tools:layout="@layout/pantalla_agregar_ahorro" />

    <!-- EDUCACIÃ“N -->
    <fragment
        android:id="@+id/nav_educacion"
        android:name="com.example.healthywallet.ui.educacion.PantallaEducacion"
        android:label="EducaciÃ³n"
        tools:layout="@layout/pantalla_educacion" />
    <fragment
        android:id="@+id/pantallaBalanceGeneral"
        android:name="com.example.healthywallet.ui.inicio.PantallaBalanceGeneral"
        android:label="Balance General"
        tools:layout="@layout/pantalla_balance_general" />

</navigation>

===== DRAWABLES (XML) =====


--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\barra_presupuesto.xml ---

<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:id="@android:id/background">
        <shape android:shape="rectangle">
            <corners android:radius="8dp"/>
            <solid android:color="#DADADA"/>
        </shape>
    </item>

    <item android:id="@android:id/progress">
        <clip>
            <shape android:shape="rectangle">
                <corners android:radius="8dp"/>
                <solid android:color="#4CAF50"/>
            </shape>
        </clip>
    </item>

</layer-list>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\icono_inicio.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
  <group android:scaleX="1.6"
      android:scaleY="1.6"
      android:translateX="-32.4"
      android:translateY="-32.4">
    <path
        android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:fillType="evenOdd">
      <aapt:attr name="android:fillColor">
        <gradient
            android:startY="49.59793"
            android:startX="42.9492"
            android:endY="92.4963"
            android:endX="85.84757"
            android:type="linear">
          <item
              android:color="#44000000"
              android:offset="0"/>
          <item
              android:color="#00000000"
              android:offset="1"/>
        </gradient>
      </aapt:attr>
    </path>

    <path
        android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:fillColor="#3DDC84"
        android:fillType="evenOdd"
        android:strokeWidth="1"
        android:strokeColor="#00000000"/>
  </group>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_add.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="24" android:viewportWidth="24" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M13,7h-2v4L7,11v2h4v4h2v-4h4v-2h-4L13,7zM12,2C6.48,2 2,6.48 2,12s4.48,10 10,10 10,-4.48 10,-10S17.52,2 12,2zM12,20c-4.41,0 -8,-3.59 -8,-8s3.59,-8 8,-8 8,3.59 8,8 -3.59,8 -8,8z"/>
    
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_ajustes.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24"
    android:tint="#4CAF50">

    <path
        android:fillColor="#4CAF50"
        android:pathData="M19.14,12.94c0.04,-0.31 0.06,-0.63 0.06,-0.94c0,-0.31 -0.02,-0.63 -0.07,-0.94l2.03,-1.58c0.18,-0.14 0.23,-0.41 0.12,-0.61l-1.92,-3.32c-0.12,-0.21 -0.37,-0.28 -0.58,-0.22l-2.39,0.96c-0.5,-0.38 -1.03,-0.7 -1.62,-0.94L14.4,2.81C14.37,2.59 14.18,2.43 13.96,2.43h-3.92c-0.22,0 -0.41,0.16 -0.44,0.38L9.03,5.35c-0.59,0.23 -1.13,0.55 -1.63,0.94L5.01,5.33c-0.21,-0.08 -0.46,0.01 -0.58,0.22L2.51,8.87c-0.12,0.21 -0.07,0.47 0.12,0.61l2.03,1.58C4.61,11.37 4.59,11.69 4.59,12c0,0.31 0.02,0.63 0.07,0.94l-2.03,1.58c-0.18,0.14 -0.23,0.41 -0.12,0.61l1.92,3.32c0.12,0.21 0.37,0.28 0.58,0.22l2.39,-0.96c0.5,0.38 1.03,0.7 1.62,0.94l0.56,2.52c0.03,0.22 0.22,0.38 0.44,0.38h3.92c0.22,0 0.41,-0.16 0.44,-0.38l0.56,-2.52c0.59,-0.23 1.13,-0.55 1.63,-0.94l2.39,0.96c0.21,0.08 0.46,-0.01 0.58,-0.22l1.92,-3.32c0.12,-0.21 0.07,-0.47 -0.12,-0.61l-2.03,-1.58zM12,15.6c-1.99,0 -3.6,-1.61 -3.6,-3.6c0,-1.99 1.61,-3.6 3.6,-3.6s3.6,1.61 3.6,3.6c0,1.99 -1.61,3.6 -3.6,3.6z"/>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_check.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:fillColor="#FFFFFF"
        android:pathData="M9,16.17l-3.5,-3.5L4.08,14.09l4.92,4.92 10,-10 -1.41,-1.41z"/>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_educacion.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">

    <path
        android:fillColor="#4CAF50"
        android:pathData="M6,4h11c1.66,0 3,1.34 3,3v11c0,1.66 -1.34,3 -3,3H6c-1.66,0 -3,-1.34 -3,-3V7c0,-1.66 1.34,-3 3,-3zm0,2c-0.55,0 -1,0.45 -1,1v11c0,0.55 0.45,1 1,1h11c0.55,0 1,-0.45 1,-1V7c0,-0.55 -0.45,-1 -1,-1H6zm2,3h7v1H8V9zm0,3h7v1H8v-1zm0,3h5v1H8v-1z"/>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_home.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24"
    android:tint="#4CAF50">

    <path
        android:fillColor="#4CAF50"
        android:pathData="M10,20v-6h4v6h5v-8h3L12,3 2,12h3v8z"/>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_launcher_foreground.xml ---

<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <bitmap
            android:src="@drawable/logo_wallet"
            android:gravity="center"
            android:antialias="true" />
    </item>
</layer-list>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_mas.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:fillColor="#4CAF50"
        android:pathData="M19,13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_metas.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24"
    android:tint="#4CAF50">

    <path
        android:fillColor="#4CAF50"
        android:pathData="M12,2A10,10 0 1,0 22,12A10,10 0 0,0 12,2zM11,17.5L6.5,13l1.41,-1.41L11,14.67l5.59,-5.59L18,10.5L11,17.5z"/>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_movimientos.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24"
    android:tint="#4CAF50">

    <path
        android:fillColor="#4CAF50"
        android:pathData="M3,13h2v-2H3v2zM3,17h2v-2H3v2zM3,9h2V7H3v2zM7,13h14v-2H7v2zM7,17h14v-2H7v2zM7,7v2h14V7H7z"/>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_placeholder_chart.xml ---

<?xml version="1.0" encoding="utf-8"?>
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="200dp"
    android:height="200dp"
    android:viewportWidth="24"
    android:viewportHeight="24">

    <!-- LÃ­neas de barras minimalistas -->
    <path
        android:pathData="M5,20L5,10"
        android:strokeColor="#4CAF50"
        android:strokeWidth="2"
        android:strokeLineCap="round" />

    <path
        android:pathData="M10,20L10,6"
        android:strokeColor="#4CAF50"
        android:strokeWidth="2"
        android:strokeLineCap="round" />

    <path
        android:pathData="M15,20L15,14"
        android:strokeColor="#4CAF50"
        android:strokeWidth="2"
        android:strokeLineCap="round" />

    <path
        android:pathData="M20,20L20,4"
        android:strokeColor="#4CAF50"
        android:strokeWidth="2"
        android:strokeLineCap="round" />

    <!-- LÃ­nea base -->
    <path
        android:pathData="M3,20L22,20"
        android:strokeColor="#DDDDDD"
        android:strokeWidth="2"
        android:strokeLineCap="round" />
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\ic_presupuesto.xml ---

<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24"
    android:tint="#4CAF50">

    <path
        android:fillColor="#4CAF50"
        android:pathData="M21,7H3c-1.1,0 -2,0.9 -2,2v10c0,1.1 0.9,2 2,2h18c1.1,0 2,-0.9 2,-2V9c0,-1.1 -0.9,-2 -2,-2zM21,19H3V9h18v10zM16,13c-1.1,0 -2,0.9 -2,2s0.9,2 2,2 2,-0.9 2,-2 -0.9,-2 -2,-2z"/>
</vector>

--- DRAWABLE: C:\AndroidProjects\HealthyWallet\app\src\main\res\drawable\progress_meta_estilo.xml ---

<layer-list xmlns:android="http://schemas.android.com/apk/res/android">

    <!-- Fondo -->
    <item android:id="@android:id/background">
        <shape>
            <corners android:radius="50dp" />
            <solid android:color="#E0E0E0"/>
        </shape>
    </item>

    <!-- Progreso -->
    <item android:id="@android:id/progress">
        <clip>
            <shape>
                <corners android:radius="50dp" />
                <solid android:color="#4CAF50"/> <!-- Verde bonito -->
            </shape>
        </clip>
    </item>

</layer-list>
